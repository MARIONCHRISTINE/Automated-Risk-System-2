SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

CREATE DATABASE IF NOT EXISTS `airtel_risk_system` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
USE `airtel_risk_system`;

DROP TABLE IF EXISTS `account_lockouts`;
CREATE TABLE `account_lockouts` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `user_email` varchar(255) NOT NULL,
  `failed_attempts` int(11) DEFAULT 0,
  `locked_at` timestamp NULL DEFAULT NULL,
  `unlock_at` timestamp NULL DEFAULT NULL,
  `is_locked` tinyint(1) DEFAULT 0,
  `lock_reason` varchar(255) DEFAULT 'Too many failed login attempts',
  `locked_by_admin` tinyint(1) DEFAULT 0,
  `ip_address` varchar(45) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS `active_sessions`;
CREATE TABLE `active_sessions` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `session_id` varchar(255) NOT NULL,
  `user_email` varchar(255) NOT NULL,
  `user_name` varchar(255) NOT NULL,
  `user_role` varchar(50) NOT NULL,
  `ip_address` varchar(45) NOT NULL,
  `user_agent` text DEFAULT NULL,
  `login_time` timestamp NOT NULL DEFAULT current_timestamp(),
  `last_activity` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `is_active` tinyint(1) DEFAULT 1,
  `logout_time` timestamp NULL DEFAULT NULL,
  `session_data` text DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS `activity_logs`;
CREATE TABLE `activity_logs` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `action` varchar(100) NOT NULL,
  `description` text DEFAULT NULL,
  `ip_address` varchar(45) DEFAULT NULL,
  `user_agent` text DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS `audit_logs`;
CREATE TABLE `audit_logs` (
  `id` int(11) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `action` varchar(255) NOT NULL,
  `details` text DEFAULT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS `chat_files`;
CREATE TABLE `chat_files` (
  `id` int(11) NOT NULL,
  `message_id` int(11) DEFAULT NULL,
  `original_name` varchar(255) NOT NULL,
  `stored_name` varchar(255) NOT NULL,
  `file_path` varchar(500) NOT NULL,
  `file_size` int(11) NOT NULL,
  `file_type` varchar(100) NOT NULL,
  `uploaded_by` int(11) DEFAULT NULL,
  `uploaded_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS `chat_messages`;
CREATE TABLE `chat_messages` (
  `id` int(11) NOT NULL,
  `room_id` int(11) DEFAULT NULL,
  `sender_id` int(11) DEFAULT NULL,
  `message` text NOT NULL,
  `message_type` enum('text','file','system') DEFAULT 'text',
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `is_deleted` tinyint(4) DEFAULT 0,
  `file_name` varchar(255) DEFAULT NULL,
  `file_path` varchar(500) DEFAULT NULL,
  `file_size` int(11) DEFAULT NULL,
  `file_type` varchar(100) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `chat_messages` (`id`, `room_id`, `sender_id`, `message`, `message_type`, `created_at`, `is_deleted`, `file_name`, `file_path`, `file_size`, `file_type`) VALUES
(2, 3, 23, '[Message deleted]', 'text', '2025-07-10 07:22:04', 1, NULL, NULL, NULL, NULL),
(4, 3, 23, 'this is the risk history', 'file', '2025-07-10 08:02:04', 0, 'history.xlsx', 'uploads/chat/686f737c8605d_1752134524.xlsx', 37163, 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'),
(5, 3, 6, 'confirmed', 'text', '2025-07-10 08:02:51', 0, NULL, NULL, NULL, NULL),
(6, 8, 6, 'hi staff, i need to change my password', 'text', '2025-07-10 08:03:42', 0, NULL, NULL, NULL, NULL),
(7, 8, 6, 'hello', 'text', '2025-07-10 08:03:46', 0, NULL, NULL, NULL, NULL),
(13, 3, 23, 'undo', 'text', '2025-07-10 09:57:17', 0, NULL, NULL, NULL, NULL),
(15, 9, 2, 'Kindy check on risk 5', 'text', '2025-07-28 10:18:21', 0, NULL, NULL, NULL, NULL),
(16, 10, 2, 'Hi admins', 'text', '2025-07-29 08:42:05', 0, NULL, NULL, NULL, NULL),
(17, 11, 2, '[Message deleted]', 'text', '2025-07-29 08:43:18', 1, NULL, NULL, NULL, NULL),
(18, 11, 2, 'hi again', 'text', '2025-07-29 08:53:56', 0, NULL, NULL, NULL, NULL),
(19, 15, 4, 'hi', 'text', '2025-08-19 20:29:53', 0, NULL, NULL, NULL, NULL),
(20, 12, 4, 'hi[@Airtel Staff] Staff', 'text', '2025-08-19 20:30:27', 0, NULL, NULL, NULL, NULL),
(21, 12, 4, '[Message deleted]', 'text', '2025-08-19 20:30:38', 1, NULL, NULL, NULL, NULL),
(22, 12, 4, '[Message deleted]', 'text', '2025-08-19 20:30:48', 1, NULL, NULL, NULL, NULL);

DROP TABLE IF EXISTS `chat_participants`;
CREATE TABLE `chat_participants` (
  `id` int(11) NOT NULL,
  `room_id` int(11) DEFAULT NULL,
  `user_id` int(11) DEFAULT NULL,
  `joined_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `last_seen` timestamp NOT NULL DEFAULT current_timestamp(),
  `last_message_read` int(11) DEFAULT 0,
  `is_archived` tinyint(4) DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `chat_participants` (`id`, `room_id`, `user_id`, `joined_at`, `last_seen`, `last_message_read`, `is_archived`) VALUES
(1, 1, 23, '2025-07-10 07:20:25', '2025-07-10 09:57:37', 0, 0),
(2, 2, 23, '2025-07-10 07:20:25', '2025-07-10 08:48:53', 0, 0),
(3, 3, 23, '2025-07-10 07:21:33', '2025-07-10 09:58:10', 13, 0),
(4, 3, 6, '2025-07-10 07:21:33', '2025-07-10 09:58:48', 13, 0),
(5, 2, 6, '2025-07-10 07:23:20', '2025-07-10 08:47:41', 0, 0),
(6, 1, 6, '2025-07-10 07:23:20', '2025-07-10 08:47:42', 0, 0),
(15, 8, 6, '2025-07-10 08:03:16', '2025-07-10 08:03:47', 7, 0),
(16, 8, 1, '2025-07-10 08:03:16', '2025-07-10 08:03:16', 0, 0),
(17, 1, 29, '2025-07-14 09:04:15', '2025-07-14 09:04:15', 0, 0),
(18, 2, 29, '2025-07-14 09:04:15', '2025-07-14 09:04:15', 0, 0),
(19, 1, 2, '2025-07-28 10:17:59', '2025-07-28 10:17:59', 0, 0),
(20, 2, 2, '2025-07-28 10:17:59', '2025-07-28 10:17:59', 0, 0),
(21, 9, 2, '2025-07-28 10:18:09', '2025-08-11 08:05:11', 15, 0),
(22, 9, 29, '2025-07-28 10:18:09', '2025-07-28 10:18:48', 15, 0),
(23, 10, 2, '2025-07-29 08:41:52', '2025-08-11 08:05:17', 16, 0),
(24, 11, 2, '2025-07-29 08:41:52', '2025-08-11 08:05:18', 18, 0),
(25, 12, 2, '2025-07-29 08:41:52', '2025-07-29 08:41:52', 0, 0),
(26, 11, 29, '2025-07-29 08:44:54', '2025-07-29 08:54:21', 18, 0),
(27, 13, 4, '2025-08-18 15:00:36', '2025-08-18 15:00:36', 0, 0),
(28, 12, 4, '2025-08-18 15:00:36', '2025-08-19 20:31:15', 22, 0),
(29, 2, 4, '2025-08-18 15:00:36', '2025-08-18 15:00:36', 0, 0),
(30, 15, 4, '2025-08-19 20:29:46', '2025-08-19 20:29:53', 19, 0),
(31, 15, 2, '2025-08-19 20:29:46', '2025-08-19 20:29:46', 0, 0);

DROP TABLE IF EXISTS `chat_rooms`;
CREATE TABLE `chat_rooms` (
  `id` int(11) NOT NULL,
  `name` varchar(255) NOT NULL,
  `type` enum('group','private') DEFAULT 'group',
  `description` text DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `is_archived` tinyint(4) DEFAULT 0,
  `archived_at` timestamp NULL DEFAULT NULL,
  `is_permanent` tinyint(4) DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `chat_rooms` (`id`, `name`, `type`, `description`, `created_by`, `created_at`, `is_archived`, `archived_at`, `is_permanent`) VALUES
(1, 'All Risk Owners', 'group', 'General discussion for all risk owners across departments', 23, '2025-07-10 07:20:25', 0, NULL, 1),
(2, 'Risk Owners + Compliance', 'group', 'Communication channel with compliance team', 23, '2025-07-10 07:20:25', 0, NULL, 1),
(3, 'Private Chat', 'private', 'Private conversation', 23, '2025-07-10 07:21:33', 0, NULL, 0),
(8, 'Private Chat with Airtel Staff', 'private', 'Private conversation', 6, '2025-07-10 08:03:16', 0, NULL, 0),
(9, 'Private Chat with Michael Bonke', 'private', 'Private conversation', 2, '2025-07-28 10:18:09', 0, NULL, 0),
(10, 'All Admins', 'group', 'General discussion for all administrators', 2, '2025-07-29 08:41:50', 0, NULL, 1),
(11, 'Admins + Risk Owners', 'group', 'Communication channel between admins and risk owners', 2, '2025-07-29 08:41:50', 0, NULL, 1),
(12, 'Admins + Compliance', 'group', 'Communication channel between admins and compliance team', 2, '2025-07-29 08:41:50', 0, NULL, 1),
(13, 'All Compliance', 'group', 'General discussion for all compliance team members', 4, '2025-08-18 15:00:35', 0, NULL, 1),
(14, 'Risk Owners + Compliance_team', 'group', 'Communication channel with compliance team', 29, '2025-08-19 09:00:54', 0, NULL, 1),
(15, 'Private Chat with admin1@airtel.africa', 'private', 'Private conversation', 4, '2025-08-19 20:29:46', 0, NULL, 0);

DROP TABLE IF EXISTS `deleted_users`;
CREATE TABLE `deleted_users` (
  `id` int(11) NOT NULL,
  `original_user_id` int(11) NOT NULL,
  `full_name` varchar(255) NOT NULL,
  `email` varchar(255) NOT NULL,
  `username` varchar(255) DEFAULT NULL,
  `password` varchar(255) DEFAULT NULL,
  `role` enum('admin','staff','risk_owner','compliance_team') NOT NULL,
  `department` varchar(255) DEFAULT NULL,
  `status` varchar(50) DEFAULT NULL,
  `is_active` tinyint(1) DEFAULT 0,
  `original_created_at` datetime DEFAULT NULL,
  `original_updated_at` datetime DEFAULT NULL,
  `deleted_at` datetime DEFAULT current_timestamp(),
  `deleted_by` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `deleted_users` (`id`, `original_user_id`, `full_name`, `email`, `username`, `password`, `role`, `department`, `status`, `is_active`, `original_created_at`, `original_updated_at`, `deleted_at`, `deleted_by`) VALUES
(3, 35, 'Joy Ogutu', '23188042@airtel.africa', '23188042', '$2y$10$iWMZZ2peleY5hHyfQN6qbuANsweNhsG.fJquLgrbZD8FCrosXrZim', 'staff', 'Risk & Compliance', 'approved', 1, '2025-07-15 14:57:24', '2025-07-30 12:00:46', '2025-07-30 12:48:15', 2);

DROP TABLE IF EXISTS `department_assignment_queue`;
CREATE TABLE `department_assignment_queue` (
  `id` int(11) NOT NULL,
  `department` varchar(100) NOT NULL,
  `next_assignee_index` int(11) DEFAULT 0,
  `last_updated` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS `department_assignment_tracker`;
CREATE TABLE `department_assignment_tracker` (
  `id` int(11) NOT NULL,
  `department` varchar(100) NOT NULL,
  `last_assigned_owner_id` int(11) DEFAULT NULL,
  `last_assignment_date` timestamp NOT NULL DEFAULT current_timestamp(),
  `total_assignments` int(11) DEFAULT 0,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `department_assignment_tracker` (`id`, `department`, `last_assigned_owner_id`, `last_assignment_date`, `total_assignments`, `created_at`, `updated_at`) VALUES
(1, 'General', NULL, '2025-06-30 08:11:21', 0, '2025-06-30 08:11:21', '2025-06-30 08:11:21');

DROP TABLE IF EXISTS `invite_tokens`;
CREATE TABLE `invite_tokens` (
  `id` int(11) NOT NULL,
  `email` varchar(255) NOT NULL,
  `token` varchar(255) NOT NULL,
  `role` varchar(50) NOT NULL,
  `expires_at` datetime NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS `login_history`;
CREATE TABLE `login_history` (
  `id` int(11) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `email` varchar(255) NOT NULL,
  `ip_address` varchar(45) NOT NULL,
  `user_agent` text DEFAULT NULL,
  `login_status` enum('success','failed') NOT NULL,
  `failure_reason` varchar(255) DEFAULT NULL,
  `location_info` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL
) ;

DROP TABLE IF EXISTS `notifications`;
CREATE TABLE `notifications` (
  `id` int(11) NOT NULL,
  `risk_id` int(11) NOT NULL,
  `owner_id` int(11) NOT NULL,
  `message` text DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS `password_resets`;
CREATE TABLE `password_resets` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `token` varchar(64) NOT NULL,
  `expires_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `used` tinyint(1) DEFAULT 0,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS `password_reset_tokens`;
CREATE TABLE `password_reset_tokens` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `token` varchar(64) NOT NULL,
  `expires_at` datetime NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `password_reset_tokens` (`id`, `user_id`, `token`, `expires_at`, `created_at`) VALUES
(1, 23, '36a5323d869c8dad1c00c4a70a023bf10ca07f4ec8debf87a62229ac299f737e', '2025-07-01 14:04:44', '2025-07-01 11:04:44'),
(2, 23, 'c497c4006ca040be92c4782304e91fa0975df47699d53c32e71381e364687cb2', '2025-07-01 14:05:12', '2025-07-01 11:05:12'),
(3, 23, '246b5110cf1a5cf667a75053f99f93ed867a40d17982f2122501ce74a6fc4dd5', '2025-07-01 14:05:20', '2025-07-01 11:05:20');

DROP TABLE IF EXISTS `risk_assignments`;
CREATE TABLE `risk_assignments` (
  `id` int(11) NOT NULL,
  `risk_id` int(11) NOT NULL,
  `assigned_to` int(11) NOT NULL,
  `assigned_by` int(11) NOT NULL,
  `assignment_date` timestamp NOT NULL DEFAULT current_timestamp(),
  `status` enum('Pending','Accepted','In Progress','Completed') DEFAULT 'Pending',
  `notes` text DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `risk_assignments` (`id`, `risk_id`, `assigned_to`, `assigned_by`, `assignment_date`, `status`, `notes`) VALUES
(1, 6, 5, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(2, 7, 5, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(3, 8, 5, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(4, 9, 5, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(5, 10, 5, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(6, 11, 5, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(7, 12, 5, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(8, 13, 5, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(9, 6, 6, 1, '2025-06-27 09:03:14', 'Accepted', NULL),
(10, 7, 6, 1, '2025-06-27 09:03:14', 'Accepted', NULL),
(11, 8, 6, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(12, 9, 6, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(13, 10, 6, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(14, 11, 6, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(15, 12, 6, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(16, 13, 6, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(17, 6, 7, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(18, 7, 7, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(19, 8, 7, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(20, 9, 7, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(21, 10, 7, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(22, 11, 7, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(23, 12, 7, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(24, 13, 7, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(25, 6, 8, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(26, 7, 8, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(27, 8, 8, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(28, 9, 8, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(29, 10, 8, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(30, 11, 8, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(31, 12, 8, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(32, 13, 8, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(33, 6, 9, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(34, 7, 9, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(35, 8, 9, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(36, 9, 9, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(37, 10, 9, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(38, 11, 9, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(39, 12, 9, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(40, 13, 9, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(41, 6, 11, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(42, 7, 11, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(43, 8, 11, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(44, 9, 11, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(45, 10, 11, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(46, 11, 11, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(47, 12, 11, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(48, 13, 11, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(49, 6, 12, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(50, 7, 12, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(51, 8, 12, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(52, 9, 12, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(53, 10, 12, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(54, 11, 12, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(55, 12, 12, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(56, 13, 12, 1, '2025-06-27 09:03:14', 'Pending', NULL),
(57, 59, 23, 25, '2025-07-09 20:20:27', 'Pending', NULL),
(58, 60, 23, 25, '2025-07-10 09:52:22', 'Pending', NULL),
(59, 61, 23, 25, '2025-07-11 08:52:11', 'Pending', NULL),
(60, 62, 23, 25, '2025-07-11 09:24:52', 'Pending', NULL),
(61, 63, 23, 25, '2025-07-11 10:07:34', 'Pending', NULL),
(62, 64, 23, 25, '2025-07-14 07:51:54', 'Pending', NULL),
(63, 65, 23, 25, '2025-07-14 07:52:17', 'Pending', NULL);

DROP TABLE IF EXISTS `risk_attachments`;
CREATE TABLE `risk_attachments` (
  `id` int(11) NOT NULL,
  `risk_id` int(11) NOT NULL,
  `filename` varchar(255) NOT NULL,
  `original_name` varchar(255) NOT NULL,
  `file_size` int(11) DEFAULT NULL,
  `mime_type` varchar(100) DEFAULT NULL,
  `uploaded_by` int(11) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS `risk_categories_reference`;
CREATE TABLE `risk_categories_reference` (
  `id` int(11) NOT NULL,
  `category_name` varchar(100) NOT NULL,
  `input_type` enum('numeric','text') NOT NULL,
  `description` text DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `risk_categories_reference` (`id`, `category_name`, `input_type`, `description`, `created_at`) VALUES
(1, 'Financial Exposure', 'text', 'Select impact level from dropdown options', '2025-08-13 14:26:58'),
(2, 'Decrease in market share', 'text', 'Select impact level from dropdown options', '2025-08-13 14:26:58'),
(3, 'Customer Experience', 'text', 'Select impact level from dropdown options', '2025-08-13 14:26:58'),
(4, 'Compliance', 'text', 'Select impact level from dropdown options', '2025-08-13 14:26:58'),
(5, 'Reputation', 'text', 'Select impact level from dropdown options', '2025-08-13 14:26:58'),
(6, 'Fraud', 'text', 'Select impact level from dropdown options', '2025-08-13 14:26:58'),
(7, 'Operations', 'text', 'Select impact level from dropdown options', '2025-08-13 14:26:58'),
(8, 'Networks', 'text', 'Select impact level from dropdown options', '2025-08-13 14:26:58'),
(9, 'People', 'text', 'Select impact level from dropdown options', '2025-08-13 14:26:58'),
(10, 'IT', 'text', 'Select impact level from dropdown options', '2025-08-13 14:26:58'),
(11, 'Other', 'text', 'Select impact level from dropdown options', '2025-08-13 14:26:58');

DROP TABLE IF EXISTS `risk_category_details`;
CREATE TABLE `risk_category_details` (
  `id` int(11) NOT NULL,
  `risk_id` int(11) NOT NULL,
  `risk_category` varchar(100) NOT NULL,
  `category_value` decimal(15,2) DEFAULT NULL COMMENT 'For numeric categories',
  `category_description` text DEFAULT NULL COMMENT 'For dropdown selections and text-based categories',
  `category_type` enum('numeric','text') NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `risk_category_details` (`id`, `risk_id`, `risk_category`, `category_value`, `category_description`, `category_type`, `created_at`) VALUES
(1, 68, 'Other', '100.00', NULL, 'numeric', '2025-08-15 09:03:09'),
(2, 72, 'Financial Exposure', NULL, '1-5%', 'text', '2025-08-18 10:55:03'),
(3, 72, 'Decrease in market share', NULL, '1-5%', 'text', '2025-08-18 10:55:03'),
(4, 72, 'Customer Experience', NULL, '1. Sanctions: No impact', 'text', '2025-08-18 10:55:03'),
(5, 72, 'Compliance', NULL, 'Penalties: >$1M', 'text', '2025-08-18 10:55:03'),
(6, 72, 'Reputation', NULL, 'Limited media coverage', 'text', '2025-08-18 10:55:03'),
(7, 72, 'Fraud', NULL, '>$1M', 'text', '2025-08-18 10:55:03'),
(8, 72, 'Operations', NULL, '2. Complete operational shutdown >1 Day, service outage', 'text', '2025-08-18 10:55:03'),
(9, 72, 'Networks', NULL, '2. Frustration Index (for voice, data services) throughout', 'text', '2025-08-18 10:55:03'),
(10, 75, 'Financial Exposure', NULL, '>5%', 'text', '2025-08-18 13:52:18');

DROP TABLE IF EXISTS `risk_category_options`;
CREATE TABLE `risk_category_options` (
  `id` int(11) NOT NULL,
  `category_name` varchar(100) NOT NULL,
  `option_value` varchar(255) NOT NULL,
  `option_label` varchar(255) NOT NULL,
  `sort_order` int(11) DEFAULT 0,
  `is_active` tinyint(1) DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `risk_category_options` (`id`, `category_name`, `option_value`, `option_label`, `sort_order`, `is_active`, `created_at`) VALUES
(45, 'Financial Exposure', '>5%', 'Revenue/Operating Expenditure/Book value >5%', 1, 1, '2025-08-18 13:51:07'),
(46, 'Financial Exposure', '1%-5%', 'Revenue/Operating Expenditure/Book value 1%-5%', 2, 1, '2025-08-18 13:51:07'),
(47, 'Financial Exposure', '0.25%-1%', 'Revenue/Operating Expenditure/Book value 0.25%-1%', 3, 1, '2025-08-18 13:51:07'),
(48, 'Financial Exposure', '<0.25%', 'Revenue/Operating Expenditure/Book value <0.25%', 4, 1, '2025-08-18 13:51:07'),
(49, 'Decrease in market share', '>2%', 'Market share decrease >2%', 1, 1, '2025-08-18 13:51:07'),
(50, 'Decrease in market share', '>1% but <2%', 'Market share decrease >1% but <2%', 2, 1, '2025-08-18 13:51:07'),
(51, 'Decrease in market share', '>0.50% but <1%', 'Market share decrease >0.50% but <1%', 3, 1, '2025-08-18 13:51:07'),
(52, 'Decrease in market share', '<0.50%', 'Market share decrease <0.50%', 4, 1, '2025-08-18 13:51:07'),
(53, 'Customer Experience', 'Class 1-5: Compliance regulation breaches', 'Class 1-5: Compliance regulation breaches', 1, 1, '2025-08-18 13:51:07'),
(54, 'Customer Experience', 'Sanctions: Isolated impact', 'Sanctions: Isolated impact', 2, 1, '2025-08-18 13:51:07'),
(55, 'Customer Experience', 'Sanctions: Limited impact', 'Sanctions: Limited impact', 3, 1, '2025-08-18 13:51:07'),
(56, 'Customer Experience', 'Sanctions: No impact', 'Sanctions: No impact', 4, 1, '2025-08-18 13:51:07'),
(57, 'Compliance', 'Penalties >$1M', 'Sanctions/Regulations breaches/Penalties >$1M', 1, 1, '2025-08-18 13:51:07'),
(58, 'Compliance', 'Penalties $0.5M-$1M', 'Sanctions/Regulations breaches/Penalties $0.5M-$1M', 2, 1, '2025-08-18 13:51:07'),
(59, 'Compliance', 'Penalties $0.1M-$0.5M', 'Sanctions/Regulations breaches/Penalties $0.1M-$0.5M', 3, 1, '2025-08-18 13:51:07'),
(60, 'Compliance', 'Penalties <$0.1M', 'Sanctions/Regulations breaches/Penalties <$0.1M', 4, 1, '2025-08-18 13:51:07'),
(61, 'Reputation', 'National media coverage', 'National media coverage', 1, 1, '2025-08-18 13:51:07'),
(62, 'Reputation', 'Limited media coverage', 'Limited media coverage', 2, 1, '2025-08-18 13:51:07'),
(63, 'Reputation', 'Local media coverage', 'Local media coverage', 3, 1, '2025-08-18 13:51:07'),
(64, 'Reputation', 'No media coverage impact', 'No media coverage impact', 4, 1, '2025-08-18 13:51:07'),
(65, 'Fraud', '>$1M', 'Fraud >$1M or Code of conduct violations', 1, 1, '2025-08-18 13:51:07'),
(66, 'Fraud', '$0.5M-$1M', 'Fraud $0.5M-$1M', 2, 1, '2025-08-18 13:51:07'),
(67, 'Fraud', '$0.1M-$0.5M', 'Fraud $0.1M-$0.5M', 3, 1, '2025-08-18 13:51:07'),
(68, 'Fraud', '<$0.1M', 'Fraud <$0.1M', 4, 1, '2025-08-18 13:51:07'),
(69, 'Operations', 'Complete shutdown >3 days', 'Complete operational shutdown of data centers/warehouses >3 days', 1, 1, '2025-08-18 13:51:07'),
(70, 'Operations', 'Complete shutdown 2-3 days', 'Complete operational shutdown of data centers/warehouses 2-3 days', 2, 1, '2025-08-18 13:51:07'),
(71, 'Operations', 'Complete shutdown ≤1 day', 'Complete operational shutdown of data centers/warehouses ≤1 day', 3, 1, '2025-08-18 13:51:07'),
(72, 'Operations', 'Limited disruption', 'Limited operational disruption at data centers/warehouses', 4, 1, '2025-08-18 13:51:07'),
(73, 'Networks', 'Availability <85%', 'Network availability <85% or Frustration Index throughout', 1, 1, '2025-08-18 13:51:08'),
(74, 'Networks', 'Availability 85%-95%', 'Network availability 85%-95%', 2, 1, '2025-08-18 13:51:08'),
(75, 'Networks', 'Availability 95%-99%', 'Network availability 95%-99%', 3, 1, '2025-08-18 13:51:08'),
(76, 'Networks', 'Availability >99%', 'Network availability >99%', 4, 1, '2025-08-18 13:51:08'),
(77, 'People', 'Turnover >15% or Fatality', 'Total employee turnover >15% or Fatality', 1, 1, '2025-08-18 13:51:08'),
(78, 'People', 'Turnover 5-15%', 'Total employee turnover 5-15% or Succession planning <40%', 2, 1, '2025-08-18 13:51:08'),
(79, 'People', 'Turnover <5%', 'Total employee turnover <5%', 3, 1, '2025-08-18 13:51:08'),
(80, 'People', 'Minor incidents', 'Heavily injured or 2-5 Accidents', 4, 1, '2025-08-18 13:51:08'),
(81, 'IT', 'Customer reported breach', 'Breach of cyber security/data privacy - customer reported', 1, 1, '2025-08-18 13:51:08'),
(82, 'IT', 'Information generated breach', 'Information may be generated from existing systems', 2, 1, '2025-08-18 13:51:08'),
(83, 'IT', 'Other privacy breach prevented', 'Breach of other privacy attempted and prevented', 3, 1, '2025-08-18 13:51:08'),
(84, 'IT', 'Cyber security prevented', 'Breach of cyber security attempted and prevented', 4, 1, '2025-08-18 13:51:08'),
(85, 'Other', 'High Impact', 'High Impact', 1, 1, '2025-08-18 13:51:08'),
(86, 'Other', 'Medium Impact', 'Medium Impact', 2, 1, '2025-08-18 13:51:08'),
(87, 'Other', 'Low Impact', 'Low Impact', 3, 1, '2025-08-18 13:51:08'),
(88, 'Other', 'Minimal Impact', 'Minimal Impact', 4, 1, '2025-08-18 13:51:08');

DROP TABLE IF EXISTS `risk_comments`;
CREATE TABLE `risk_comments` (
  `id` int(11) NOT NULL,
  `risk_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `comment` text NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS `risk_documents`;
CREATE TABLE `risk_documents` (
  `id` int(11) NOT NULL,
  `risk_id` int(11) NOT NULL,
  `section_type` enum('controls_action_plans','progress_update') NOT NULL,
  `original_filename` varchar(255) NOT NULL,
  `stored_filename` varchar(255) NOT NULL,
  `file_path` varchar(500) NOT NULL,
  `file_size` int(11) NOT NULL,
  `uploaded_by` int(11) NOT NULL,
  `uploaded_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `risk_documents` (`id`, `risk_id`, `section_type`, `original_filename`, `stored_filename`, `file_path`, `file_size`, `uploaded_by`, `uploaded_at`) VALUES
(1, 37, 'controls_action_plans', 'Pyment Details.xlsx', '37_controls_action_plans_1751363405_0.xlsx', 'uploads/risk_documents/37_controls_action_plans_1751363405_0.xlsx', 13403, 23, '2025-07-01 09:50:05'),
(2, 37, 'controls_action_plans', 'David Mburu_Backend developer (1).docx', '37_controls_action_plans_1751363405_1.docx', 'uploads/risk_documents/37_controls_action_plans_1751363405_1.docx', 18614, 23, '2025-07-01 09:50:05'),
(3, 37, 'progress_update', 'The Role of Social Media in The Shaping Of Adolescent Identity.docx', '37_progress_update_1751363405_0.docx', 'uploads/risk_documents/37_progress_update_1751363405_0.docx', 137778, 23, '2025-07-01 09:50:05');

DROP TABLE IF EXISTS `risk_history`;
CREATE TABLE `risk_history` (
  `id` int(11) NOT NULL,
  `risk_id` int(11) NOT NULL,
  `change_type` varchar(100) NOT NULL,
  `change_description` text NOT NULL,
  `old_value` text DEFAULT NULL,
  `new_value` text DEFAULT NULL,
  `updated_by` int(11) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `risk_history` (`id`, `risk_id`, `change_type`, `change_description`, `old_value`, `new_value`, `updated_by`, `created_at`) VALUES
(1, 1, 'Risk Created', 'Risk \"Data Breach\" was initially reported', NULL, NULL, 2, '2025-06-19 13:39:49'),
(2, 2, 'Risk Created', 'Risk \"Data Breach\" was initially reported', NULL, NULL, 2, '2025-06-19 13:40:05'),
(4, 4, 'Risk Created', 'Risk \"cyber security3\" was initially reported', NULL, NULL, 3, '2025-06-20 08:25:43'),
(5, 5, 'Risk Created', 'Risk \"byriskowner\" was initially reported', NULL, NULL, 6, '2025-06-20 12:23:32'),
(6, 6, 'Risk Created', 'Risk \"Data Breach2020\" was initially reported', NULL, NULL, 9, '2025-06-20 13:05:39'),
(8, 4, 'Treatment Updated', 'Risk treatments and monitoring updated', NULL, NULL, 6, '2025-06-20 14:45:04'),
(9, 4, 'Treatment Updated', 'Risk treatments and monitoring updated', NULL, NULL, 6, '2025-06-20 14:45:25'),
(10, 5, 'Treatment Updated', 'Risk treatments and monitoring updated', NULL, NULL, 12, '2025-06-20 19:22:07');

DROP TABLE IF EXISTS `risk_incidents`;
CREATE TABLE `risk_incidents` (
  `id` int(11) NOT NULL,
  `date_of_risk_entry` date NOT NULL DEFAULT curdate(),
  `existing_or_new` varchar(255) DEFAULT NULL,
  `to_be_reported_to_board` varchar(255) DEFAULT NULL,
  `risk_name` varchar(200) NOT NULL,
  `risk_description` text NOT NULL,
  `cause_of_risk` text NOT NULL,
  `inherent_likelihood` int(11) DEFAULT NULL,
  `inherent_consequence` int(11) DEFAULT NULL,
  `inherent_rating` decimal(3,1) GENERATED ALWAYS AS (`inherent_likelihood` * `inherent_consequence`) STORED,
  `residual_likelihood` int(11) DEFAULT NULL,
  `residual_consequence` int(11) DEFAULT NULL,
  `residual_rating` decimal(3,1) GENERATED ALWAYS AS (`residual_likelihood` * `residual_consequence`) STORED,
  `treatment_action` text DEFAULT NULL,
  `controls_action_plan` text DEFAULT NULL,
  `planned_completion_date` date DEFAULT NULL,
  `risk_owner_id` int(11) DEFAULT NULL,
  `progress_update_report` text DEFAULT NULL,
  `status` enum('open','in_progress','completed','overdue','closed') DEFAULT 'open',
  `reported_by` int(11) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `updated_by` int(11) DEFAULT NULL,
  `monitoring_frequency` enum('weekly','monthly','quarterly','annually') DEFAULT NULL,
  `next_review_date` date DEFAULT NULL,
  `risk_appetite` text DEFAULT NULL,
  `escalation_criteria` text DEFAULT NULL,
  `progress_update` text DEFAULT NULL,
  `risk_status` enum('Not Started','In Progress','Completed','Overdue') DEFAULT 'Not Started',
  `department` varchar(100) DEFAULT NULL,
  `collaborators` text DEFAULT NULL,
  `treatment_documents` text DEFAULT NULL,
  `probability` int(11) DEFAULT NULL COMMENT 'Risk probability (1-5 scale)',
  `impact` int(11) DEFAULT NULL COMMENT 'Risk impact (1-5 scale)',
  `risk_level` varchar(20) DEFAULT 'Not Assessed' COMMENT 'Calculated risk level (Low, Medium, High, Critical)',
  `risk_categories` text DEFAULT NULL COMMENT 'JSON array of selected risk categories',
  `risk_id_number` varchar(50) DEFAULT NULL,
  `controls_action_plans` text DEFAULT NULL,
  `target_completion_date` date DEFAULT NULL,
  `treatment_status` varchar(50) DEFAULT 'Not Started',
  `document_path` varchar(255) DEFAULT NULL,
  `section_b_locked` tinyint(1) NOT NULL DEFAULT 0,
  `section_c_locked` tinyint(1) NOT NULL DEFAULT 0,
  `category_details` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'Category-specific dropdown selections as JSON object'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `risk_incidents` (`id`, `date_of_risk_entry`, `existing_or_new`, `to_be_reported_to_board`, `risk_name`, `risk_description`, `cause_of_risk`, `inherent_likelihood`, `inherent_consequence`, `residual_likelihood`, `residual_consequence`, `treatment_action`, `controls_action_plan`, `planned_completion_date`, `risk_owner_id`, `progress_update_report`, `status`, `reported_by`, `created_at`, `updated_at`, `updated_by`, `monitoring_frequency`, `next_review_date`, `risk_appetite`, `escalation_criteria`, `progress_update`, `risk_status`, `department`, `collaborators`, `treatment_documents`, `probability`, `impact`, `risk_level`, `risk_categories`, `risk_id_number`, `controls_action_plans`, `target_completion_date`, `treatment_status`, `document_path`, `section_b_locked`, `section_c_locked`, `category_details`) VALUES
(1, '2025-06-19', 'existing', 'no', 'Data Breach', 'There is data breach in airtelmoney', 'Weak security', 4, 1, 1, 5, 'mitigate', 'also mitigate', '2025-06-19', 1, 'continuous', 'in_progress', 2, '2025-06-19 13:39:49', '2025-06-27 09:03:14', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'General', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(2, '2025-06-19', 'existing', 'no', 'Data Breach', 'There is data breach in airtelmoney', 'Weak security', 4, 1, 1, 5, 'mitigate', 'also mitigate', '2025-06-19', 1, 'continuous', 'in_progress', 2, '2025-06-19 13:40:05', '2025-06-27 09:03:14', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'General', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(4, '2025-06-20', 'existing', 'yes', 'cyber security3', 'wetq3yq45u56i', 'a46ujmyuiyu', 1, 1, 3, 3, NULL, NULL, NULL, 6, NULL, 'open', 3, '2025-06-20 08:25:43', '2025-06-27 09:03:14', 6, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'General', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(5, '2025-06-20', 'new', 'yes', 'byriskowner', 'tw4567k5yjsrn', 'w56rthsr', 5, 5, 5, 5, NULL, NULL, NULL, 12, NULL, 'open', 6, '2025-06-20 12:23:32', '2025-06-27 09:03:14', 12, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'General', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(6, '2025-06-20', 'existing', 'yes', 'Data Breach2020', 'qaj6ym5yarng r', 'a46jjmnq', 2, 3, 2, 5, NULL, NULL, NULL, 5, NULL, 'open', 9, '2025-06-20 13:05:39', '2025-06-27 09:03:14', 6, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'General', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(7, '2025-06-23', 'existing', 'yes', 'Fraud', 'Fraud', 'Fraud', 5, 4, 2, 3, NULL, NULL, NULL, 5, NULL, 'open', 3, '2025-06-23 07:29:09', '2025-06-27 09:03:14', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'General', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(8, '2025-06-24', 'new', 'no', 'AAY35T5E5J', 'JRRFGNVB', 'SJYMN', 0, 0, 0, 0, NULL, NULL, NULL, 6, NULL, 'open', 3, '2025-06-24 11:41:34', '2025-07-01 07:01:16', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'General', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(9, '2025-06-24', 'new', 'no', 'eeeeETBNT4JTQ', 'ent34jnBE FD\\', 'g53 RC', 0, 0, 0, 0, NULL, NULL, NULL, 5, NULL, 'open', 3, '2025-06-24 11:47:26', '2025-06-27 09:03:14', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'General', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(10, '2025-06-24', 'new', 'no', 'W5 6HRG', 'THH ERFDCQ3GQEFDCQ', 'EGFVGRTHWRTWFWGW', 0, 0, 0, 0, NULL, NULL, NULL, 5, NULL, 'open', 3, '2025-06-24 11:47:54', '2025-06-27 09:03:14', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'General', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(11, '2025-06-24', 'new', 'no', 'W5 6HRG', 'THH ERFDCQ3GQEFDCQ', 'EGFVGRTHWRTWFWGW', 0, 0, 0, 0, NULL, NULL, NULL, 5, NULL, 'open', 3, '2025-06-24 11:51:58', '2025-06-27 09:03:14', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'General', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(12, '2025-06-24', 'new', 'no', '3JE\\NEBT', 'S5J 7J', 'S757', 0, 0, 0, 0, NULL, NULL, NULL, 5, NULL, 'open', 3, '2025-06-24 12:04:04', '2025-06-27 09:03:14', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'General', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(13, '2025-06-24', 'new', 'no', '3 Y4WEVDF', 'TC4W G', '4tedfc', 0, 0, 0, 0, NULL, NULL, NULL, 5, NULL, 'open', 3, '2025-06-24 12:09:31', '2025-06-27 09:03:14', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'General', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(14, '2025-06-27', 'new', 'yes', '7uiojk', 'm8uiojklknmk', 'y90holk', 1, 1, 1, 1, NULL, NULL, NULL, 6, NULL, 'open', 6, '2025-06-27 13:05:28', '2025-06-30 09:24:09', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'General', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(15, '2025-06-27', 'existing', 'yes', 'rrc3aerxfc', 'c35cerdf', 'C34RFD', 1, 1, 1, 1, NULL, NULL, NULL, 6, NULL, 'open', 6, '2025-06-27 13:11:48', '2025-06-27 13:11:48', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'General', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(29, '2025-06-30', 'existing', 'yes', 'for me riskowner9', '2gqrfc', 'ofowc', 5, 5, 5, 1, '341cy13c5egr', NULL, NULL, 6, NULL, 'open', 6, '2025-06-30 11:13:10', '2025-06-30 11:13:10', NULL, NULL, NULL, NULL, NULL, '22224vqed', '', '', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, 'vwevecwrf', '2025-07-02', 'In Progress', NULL, 0, 0, NULL),
(32, '2025-07-01', 'new', 'no', 'For risk 45', 'Theft of computers', 'Improper security measures', 1, 1, 1, 1, NULL, NULL, NULL, NULL, NULL, 'open', 22, '2025-07-01 07:08:42', '2025-07-01 07:08:42', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', '', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(33, '2025-07-01', 'new', 'no', 'For my risk owner', 'There is theft of the current laptops in the system. form staff43', 'There are no people to look after the company property', 1, 1, 1, 1, NULL, NULL, NULL, NULL, NULL, 'open', 25, '2025-07-01 07:32:29', '2025-07-01 07:32:29', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(34, '2025-07-01', 'existing', 'yes', 'another one', 'another occurence of databreach', 'ignorance of the employees', 5, 3, 1, 2, '2qwfC\\DSXZ', NULL, NULL, 23, NULL, 'open', 23, '2025-07-01 07:37:08', '2025-07-01 07:37:08', NULL, NULL, NULL, NULL, NULL, 'Wrwvnds', '', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, '2QWCDSXZ', '2025-07-17', 'In Progress', NULL, 0, 0, NULL),
(35, '2025-07-01', 'new', 'no', 'Wasting Job hours', 'My work mate, Maurice just listens to music from youtube during work hours', 'Idleness and lack of work', 4, 5, 1, 1, '', NULL, NULL, 23, NULL, 'open', 23, '2025-07-01 09:16:56', '2025-07-08 08:11:25', NULL, NULL, NULL, NULL, NULL, 'No work yet Given to him', '', 'Customer Service', NULL, NULL, 2, 1, 'Critical', '', NULL, '1. Talk to the supervisor to give him work\r\n2. Having someone to check on him regularly', '2025-07-17', 'completed', NULL, 0, 0, NULL),
(36, '2025-07-01', 'new', 'yes', 'f3q5wrfd', '53 4rfd', 'wrfdcs', 2, 1, 3, 1, '3 erfcv ', NULL, NULL, 23, NULL, 'open', 23, '2025-07-01 09:22:01', '2025-07-01 10:00:43', 23, NULL, NULL, NULL, NULL, '46etgfvc', '', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, ' 46etf', '2025-07-01', 'Not Started', NULL, 0, 0, NULL),
(37, '2025-07-01', 'new', 'yes', 'new payment details', 'testig for uploadig documents', 'efwdf42', 2, 3, 2, 1, 'mitigate', NULL, NULL, 23, NULL, 'open', 23, '2025-07-01 09:50:05', '2025-07-01 09:50:05', NULL, NULL, NULL, NULL, NULL, 'another document', 'Completed', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, 'here are the uploaded documents', '2025-07-17', 'Completed', NULL, 0, 0, NULL),
(43, '2025-07-02', 'new', 'no', 'Survellience', 'there is no proper servilliene in customer care', 'Few CCTV', 1, 1, 1, 1, NULL, NULL, NULL, NULL, NULL, 'open', 25, '2025-07-02 08:15:59', '2025-07-02 08:21:48', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(44, '2025-07-02', 'existing', 'no', 'edvfcx ', 'asrfvcx ', 'd fvc x', 3, 5, 3, 5, 'q3wrdsc x', NULL, NULL, 23, NULL, 'open', 23, '2025-07-02 14:42:24', '2025-07-02 14:42:24', NULL, NULL, NULL, NULL, NULL, 'erfvc x', '', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, 'dasfvc x', '2025-07-03', 'On Hold', NULL, 0, 0, NULL),
(45, '2025-07-02', 'existing', 'no', 'edxsdcsvf', 'SVDZ XSD ', 'SDZX WDR', 3, 5, 2, 5, 'Wsdczx ', NULL, NULL, 23, NULL, 'open', 23, '2025-07-02 14:46:20', '2025-07-02 14:46:20', NULL, NULL, NULL, NULL, NULL, 'wsdxz sd', '', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, 'sdzx', '2025-07-09', 'On Hold', NULL, 0, 0, NULL),
(46, '2025-07-03', 'new', 'no', '44fvcdx4tt', 'c4cedfvc', 'tedfbvc x', 2, 5, 2, 5, '53rfdsxcz', NULL, NULL, 23, NULL, 'open', 23, '2025-07-03 08:05:47', '2025-07-03 08:05:47', NULL, NULL, NULL, NULL, NULL, ' rfgcv', 'Completed', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, 'e sfzcvrgdfxv', '2025-07-11', 'Completed', NULL, 0, 0, NULL),
(47, '2025-07-04', 'existing', 'yes', 'for notificatuion setting ', 'it should just work', 'testing only', 1, 1, 1, 1, 'evcsdzx\\', NULL, NULL, 23, NULL, 'open', 23, '2025-07-04 12:28:09', '2025-07-04 12:28:09', NULL, NULL, NULL, NULL, NULL, 'edcsxz', '', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, 'qscxz\\', '0000-00-00', 'Not Started', NULL, 0, 0, NULL),
(48, '2025-07-04', 'new', 'no', 'egwsd', 'stdfbc ', 'dbvc ', 1, 2, 1, 1, 'dbv cxgfbv c', NULL, NULL, 23, NULL, 'open', 23, '2025-07-04 12:33:21', '2025-07-04 12:33:21', NULL, NULL, NULL, NULL, NULL, 'rbgv cc', '', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, 'fgc vdgb', '2025-07-15', 'In Progress', NULL, 0, 0, NULL),
(49, '2025-07-05', 'new', 'no', 'qesdzx', 'WSDCXZ', 'ESDV', 1, 1, 1, 1, NULL, NULL, NULL, 23, NULL, 'open', 25, '2025-07-05 04:09:25', '2025-07-05 04:09:26', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(50, '2025-07-08', 'new', 'yes', 'tuesday morning', 'for testing of the view button', '3rwdscx', 5, 5, 3, 5, 'Transfer', NULL, NULL, NULL, NULL, 'open', 23, '2025-07-08 07:02:05', '2025-07-08 07:02:45', NULL, NULL, NULL, NULL, NULL, 'e dfxceffd', '', 'Marketing & Sales', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, 'rvwdxcxzsdr', '2025-07-18', 'On Hold', NULL, 0, 0, NULL),
(51, '2025-07-08', 'new', 'no', 'today only', 'for testing of manage risk', 'nothing', 1, 1, 1, 1, NULL, NULL, NULL, 23, NULL, 'open', 25, '2025-07-08 07:11:59', '2025-07-08 07:11:59', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(52, '2025-07-08', 'new', 'no', 'maurice', 'wfsdfczxf', 'xrsdfcxz', 1, 1, 1, 1, NULL, NULL, NULL, 23, NULL, 'open', 25, '2025-07-08 07:12:11', '2025-07-08 07:12:11', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(53, '2025-07-08', 'new', 'yes', 'just for me ', 'another one for me', 'rfedcx', 5, 2, 4, 3, 'Avoid', NULL, NULL, 23, NULL, 'open', 25, '2025-07-08 07:12:32', '2025-07-08 07:40:04', NULL, NULL, NULL, NULL, NULL, 'fvdcxfvc', '', 'Customer Service', NULL, NULL, 4, 5, 'Critical', '', NULL, 'rdscx', '2025-07-25', 'completed', NULL, 0, 0, NULL),
(54, '2025-07-08', 'new', 'no', 'Data Breach48689', 'hyugyuf', 'gygyu', 1, 1, 1, 1, NULL, NULL, NULL, 23, NULL, 'open', 25, '2025-07-08 09:02:20', '2025-07-08 09:02:20', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(55, '2025-07-08', 'new', 'no', 'ivan\'s', 'he is curious', 'he looks at my laptpot too much', 1, 1, 1, 1, NULL, NULL, NULL, 23, NULL, 'open', 25, '2025-07-08 13:27:43', '2025-07-08 13:27:44', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(56, '2025-07-09', 'new', 'no', 'op;', 'gginuk', '9ylikujh', 1, 1, 1, 1, NULL, NULL, NULL, 23, NULL, 'open', 25, '2025-07-09 17:16:14', '2025-07-09 17:16:14', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(57, '2025-07-09', 'new', 'no', 'For me', 'To test for the updates', '2hifeasnc', 1, 1, 1, 1, NULL, NULL, NULL, 23, NULL, 'open', 25, '2025-07-09 19:30:12', '2025-07-09 19:30:12', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(58, '2025-07-09', 'new', 'no', 'riskowner', 'tydjhfuify', 'ugui', 1, 1, 1, 1, NULL, NULL, NULL, 23, NULL, 'open', 25, '2025-07-09 20:13:24', '2025-07-09 20:13:24', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(59, '2025-07-09', 'new', 'no', 'in blue', 'tfghv', 'fyh', 1, 1, 1, 1, NULL, NULL, NULL, 23, NULL, 'open', 25, '2025-07-09 20:20:27', '2025-07-09 20:20:27', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(60, '2025-07-10', 'new', 'no', 'reaGAN', 'RDYTTDTUFYUYU', 'FYFUUYFYUFYU', 1, 1, 1, 1, NULL, NULL, NULL, 23, NULL, 'open', 25, '2025-07-10 09:52:22', '2025-07-10 09:52:22', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(61, '2025-07-11', 'new', 'no', 'Risk Calculator', 'To test for the risk calculation', 'Just for test', 1, 1, 1, 1, NULL, NULL, NULL, 23, NULL, 'open', 25, '2025-07-11 08:52:11', '2025-07-11 08:52:11', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(62, '2025-07-11', NULL, NULL, 'Another for checking for calculator', 'wrgdvzx', 'agdvzxzz', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 23, NULL, 'open', 25, '2025-07-11 09:24:52', '2025-07-11 10:05:07', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, NULL, '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(63, '2025-07-11', NULL, NULL, '4567', 'er\\dxz', 'sv ', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 23, NULL, 'open', 25, '2025-07-11 10:07:34', '2025-07-11 10:07:34', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(64, '2025-07-14', NULL, NULL, 't4wrgsfxc', 'ehdfbvx ', 'rsfc ', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 23, NULL, 'open', 25, '2025-07-14 07:51:54', '2025-07-14 07:51:54', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(65, '2025-07-14', NULL, NULL, ' rsfxbc ', ' fx ', 'dfxcv ', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 23, NULL, 'open', 25, '2025-07-14 07:52:17', '2025-07-14 07:52:17', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', 'uploads/risk_documents/6874b73183ecb_1752479537.pdf', 0, 0, NULL),
(66, '2025-07-14', NULL, NULL, 'dewds', 'dcxsz', 'dcsxz', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 'open', 25, '2025-07-14 08:18:16', '2025-07-14 08:18:16', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Customer Service', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, NULL),
(67, '2025-07-14', NULL, NULL, 'For Market Risk', 'The current operations', 'Not identified', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 29, NULL, 'open', 31, '2025-07-14 09:43:47', '2025-07-14 09:43:47', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Airtel Money', NULL, NULL, NULL, NULL, 'Not Assessed', '', NULL, NULL, NULL, 'Not Started', 'uploads/risk_documents/6874d1530ba4a_1752486227.docx', 0, 0, NULL),
(68, '2025-08-15', 'New', NULL, 'Other - dfsdjyku...', 'dfsdjyku', 'restdyui', 1, 1, 1, 1, 'Mitigate', NULL, NULL, 29, NULL, 'open', 29, '2025-08-15 09:03:09', '2025-08-15 09:03:09', NULL, NULL, NULL, NULL, NULL, '46765i89', '', 'Airtel Money', NULL, NULL, NULL, NULL, 'Not Assessed', '[\"Other\"]', NULL, '65789', '2025-08-29', 'Not Started', NULL, 0, 0, NULL),
(69, '2025-08-15', NULL, NULL, '', 'rdtyui', 'e5ry', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 29, NULL, 'open', 31, '2025-08-15 09:51:52', '2025-08-15 09:51:52', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Airtel Money', NULL, NULL, NULL, NULL, 'Not Assessed', '[\"Financial Exposure\"]', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, '{\"Financial Exposure\":\"100\"}'),
(70, '2025-08-15', NULL, NULL, '', 'For Bonke', 'wertyuii', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 29, NULL, 'open', 31, '2025-08-15 10:17:06', '2025-08-15 10:17:06', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Airtel Money', NULL, NULL, NULL, NULL, 'Not Assessed', '[\"Financial Exposure\"]', NULL, NULL, NULL, 'Not Started', 'uploads/risk_documents/689f09220e790_1755253026.docx', 0, 0, '{\"Financial Exposure\":\"1\"}'),
(71, '2025-08-15', NULL, NULL, '', 'wee5ui', 'etryui', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 29, NULL, 'open', 31, '2025-08-15 11:00:36', '2025-08-15 11:00:36', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Airtel Money', NULL, NULL, NULL, NULL, 'Not Assessed', '[\"Financial Exposure\"]', NULL, NULL, NULL, 'Not Started', 'uploads/risk_documents/689f135403801_1755255636.txt', 0, 0, '{\"Financial Exposure\":\"1\"}'),
(72, '2025-08-18', 'Existing', NULL, 'Financial Exposure, Decrease in market share, Customer Experience, Compliance, Reputation, Fraud, Operations, Networks - etyuiopi...', 'etyuiopi', 'styuiho', 2, 4, 1, 4, 'Transfer', NULL, NULL, 29, NULL, 'open', 29, '2025-08-18 10:55:03', '2025-08-18 10:55:03', NULL, NULL, NULL, NULL, NULL, '3457896', '', 'Airtel Money', NULL, NULL, NULL, NULL, 'Not Assessed', '[\"Financial Exposure\",\"Decrease in market share\",\"Customer Experience\",\"Compliance\",\"Reputation\",\"Fraud\",\"Operations\",\"Networks\"]', NULL, 'e5w890', '2025-09-03', 'Not Started', NULL, 0, 0, '{\"Financial Exposure\":\"1-5%\",\"Decrease in market share\":\"1-5%\",\"Customer Experience\":\"1. Sanctions: No impact\",\"Compliance\":\"Penalties: >$1M\",\"Reputation\":\"Limited media coverage\",\"Fraud\":\">$1M\",\"Operations\":\"2. Complete operational shutdown >1 Day, service outage\",\"Networks\":\"2. Frustration Index (for voice, data services) throughout\"}'),
(73, '2025-08-18', NULL, NULL, '', 'rgty', '456u7', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 32, NULL, 'open', 33, '2025-08-18 11:31:32', '2025-08-18 11:31:32', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'IT & Technology', NULL, NULL, NULL, NULL, 'Not Assessed', '[\"Customer Experience\"]', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, '[]'),
(74, '2025-08-18', NULL, NULL, '', 'wetyui', 'r4wt5e6r7tui', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 29, NULL, 'open', 31, '2025-08-18 11:44:54', '2025-08-18 11:44:54', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Airtel Money', NULL, NULL, NULL, NULL, 'Not Assessed', '[\"Financial Exposure\",\"Decrease in market share\",\"Customer Experience\",\"Reputation\"]', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, '[]'),
(75, '2025-08-18', 'New', NULL, 'Financial Exposure - dsfgyjuio...', 'dsfgyjuio', 'eraio', 4, 2, 1, 1, 'Mitigate', NULL, NULL, 29, NULL, 'open', 29, '2025-08-18 13:52:18', '2025-08-18 13:52:18', NULL, NULL, NULL, NULL, NULL, 'weqrtye5u', '', 'Airtel Money', NULL, NULL, NULL, NULL, 'Not Assessed', '[\"Financial Exposure\"]', NULL, 'wewr4wt5yu768', '2025-08-19', 'Not Started', NULL, 0, 0, '{\"Financial Exposure\":\">5%\"}'),
(76, '2025-08-18', NULL, NULL, '', 'r34t5yeuitop8', '57689', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 29, NULL, 'open', 31, '2025-08-18 14:48:56', '2025-08-18 14:48:56', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Airtel Money', NULL, NULL, NULL, NULL, 'Not Assessed', '[\"Decrease in market share\",\"Customer Experience\",\"Compliance\",\"Reputation\"]', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, '[]'),
(77, '2025-08-19', NULL, NULL, '', '32yuo', 'ty8i', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 29, NULL, 'open', 31, '2025-08-19 11:10:05', '2025-08-19 11:10:05', NULL, NULL, NULL, NULL, NULL, NULL, 'Not Started', 'Airtel Money', NULL, NULL, NULL, NULL, 'Not Assessed', '[\"Financial Exposure\"]', NULL, NULL, NULL, 'Not Started', NULL, 0, 0, '[]');

DROP TABLE IF EXISTS `risk_monitoring`;
CREATE TABLE `risk_monitoring` (
  `id` int(11) NOT NULL,
  `risk_id` int(11) NOT NULL,
  `review_date` date NOT NULL,
  `review_notes` text NOT NULL,
  `current_risk_level` enum('Low','Medium','High','Critical') DEFAULT NULL,
  `effectiveness_rating` int(11) DEFAULT NULL
) ;

DROP TABLE IF EXISTS `risk_owners`;
CREATE TABLE `risk_owners` (
  `id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS `risk_owner_assignments`;
CREATE TABLE `risk_owner_assignments` (
  `id` int(11) NOT NULL,
  `department` varchar(100) NOT NULL,
  `risk_owner_id` int(11) NOT NULL,
  `assignment_count` int(11) DEFAULT 0,
  `last_assigned` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS `risk_treatments`;
CREATE TABLE `risk_treatments` (
  `id` int(11) NOT NULL,
  `risk_id` int(11) NOT NULL,
  `treatment_title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `treatment_description` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `assigned_to` int(11) NOT NULL,
  `target_completion_date` date DEFAULT NULL,
  `status` enum('pending','in_progress','completed','cancelled') COLLATE utf8mb4_unicode_ci DEFAULT 'pending',
  `progress_notes` text COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_by` int(11) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `risk_treatments` (`id`, `risk_id`, `treatment_title`, `treatment_description`, `assigned_to`, `target_completion_date`, `status`, `progress_notes`, `created_by`, `created_at`, `updated_at`) VALUES
(1, 52, 'vfdcx', 'dfxc ', 23, '2025-07-09', 'pending', NULL, 23, '2025-07-08 13:17:48', '2025-07-08 13:17:48'),
(2, 55, 'hire more employees', 'trfgxve5eh', 23, '2025-07-23', 'pending', NULL, 23, '2025-07-08 13:34:24', '2025-07-08 13:34:24'),
(3, 54, 'hire more employees', 'lkml', 23, '0000-00-00', 'pending', NULL, 23, '2025-07-08 13:43:21', '2025-07-08 13:43:21'),
(4, 60, 'ask ashley to be happy', 'wertyui', 23, '0000-00-00', 'pending', NULL, 23, '2025-07-10 09:54:40', '2025-07-10 09:54:40'),
(5, 67, 'This is just for testing', 'For assigning risk owner', 32, '2025-07-15', 'pending', NULL, 29, '2025-07-14 09:50:06', '2025-07-14 09:50:06');

DROP TABLE IF EXISTS `security_settings`;
CREATE TABLE `security_settings` (
  `id` int(11) NOT NULL,
  `setting_name` varchar(100) NOT NULL,
  `setting_value` varchar(255) NOT NULL,
  `description` text DEFAULT NULL,
  `updated_by` int(11) DEFAULT NULL,
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `security_settings` (`id`, `setting_name`, `setting_value`, `description`, `updated_by`, `updated_at`) VALUES
(1, 'max_failed_attempts', '5', 'Maximum failed login attempts before account lockout', 2, '2025-08-11 09:03:43'),
(2, 'lockout_duration', '30', 'Account lockout duration in minutes', 2, '2025-08-11 09:03:43'),
(3, 'auto_unlock', '1', 'Automatically unlock accounts after lockout duration (1=enabled, 0=disabled)', 2, '2025-08-11 09:03:43'),
(4, 'session_timeout', '30', 'Session timeout in minutes', 2, '2025-08-11 09:00:26'),
(5, 'max_concurrent_sessions', '3', 'Maximum concurrent sessions per user', 2, '2025-08-11 09:00:26');

DROP TABLE IF EXISTS `suspicious_activities`;
CREATE TABLE `suspicious_activities` (
  `id` int(11) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `activity_type` varchar(100) NOT NULL,
  `description` text NOT NULL,
  `severity` enum('low','medium','high','critical') DEFAULT 'medium',
  `ip_address` varchar(45) DEFAULT NULL,
  `user_agent` text DEFAULT NULL,
  `additional_data` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL
) ;

DROP TABLE IF EXISTS `system_audit_logs`;
CREATE TABLE `system_audit_logs` (
  `id` int(11) NOT NULL,
  `timestamp` datetime NOT NULL DEFAULT current_timestamp(),
  `user` varchar(255) NOT NULL,
  `action` varchar(255) NOT NULL,
  `details` text DEFAULT NULL,
  `ip_address` varchar(45) DEFAULT NULL,
  `user_id` int(11) DEFAULT NULL,
  `resolved` tinyint(1) DEFAULT 0,
  `resolved_at` timestamp NULL DEFAULT NULL,
  `resolved_by` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `system_audit_logs` (`id`, `timestamp`, `user`, `action`, `details`, `ip_address`, `user_id`, `resolved`, `resolved_at`, `resolved_by`) VALUES
(1, '2025-07-17 10:30:00', 'Admin User', 'Approved user John Doe', 'User ID: 101', '192.168.1.5', 1, 0, NULL, NULL),
(2, '2025-07-17 09:45:00', 'Admin User', 'Changed role for Jane Smith', 'User ID: 102, New Role: Risk Owner', '192.168.1.5', 1, 0, NULL, NULL),
(3, '2025-07-16 16:00:00', 'System', 'Auto-assigned Risk #54321', 'Risk ID: 54321, Owner ID: 205', NULL, NULL, 0, NULL, NULL),
(4, '2025-07-16 14:15:00', 'Admin User', 'Suspended user Bob Johnson', 'User ID: 103', '192.168.1.5', 1, 1, '2025-07-29 08:07:35', 2),
(5, '2025-07-15 11:00:00', 'Unknown', 'Login attempt failed', 'IP: 192.168.1.10, User: unknown@example.com', '192.168.1.10', NULL, 0, NULL, NULL),
(6, '2025-07-15 11:05:00', 'Admin User', 'Successful login', 'IP: 192.168.1.5, User: admin@airtel.com', '192.168.1.5', 1, 0, NULL, NULL),
(7, '2025-07-14 08:00:00', 'Staff User', 'Reported new risk', 'Risk ID: 54322, Name: Data Breach Concern', '192.168.1.20', 2, 0, NULL, NULL),
(8, '2025-07-17 10:30:00', 'Admin User', 'Approved user John Doe', 'User ID: 101', '192.168.1.5', 1, 0, NULL, NULL),
(9, '2025-07-17 09:45:00', 'Admin User', 'Changed role for Jane Smith', 'User ID: 102, New Role: Risk Owner', '192.168.1.5', 1, 0, NULL, NULL),
(10, '2025-07-16 16:00:00', 'System', 'Auto-assigned Risk #54321', 'Risk ID: 54321, Owner ID: 205', NULL, NULL, 0, NULL, NULL),
(11, '2025-07-16 14:15:00', 'Admin User', 'Suspended user Bob Johnson', 'User ID: 103', '192.168.1.5', 1, 1, '2025-07-29 09:07:35', 2),
(12, '2025-07-15 11:00:00', 'Unknown', 'Login attempt failed', 'IP: 192.168.1.10, User: unknown@example.com', '192.168.1.10', NULL, 0, NULL, NULL),
(13, '2025-07-15 11:05:00', 'Admin User', 'Successful login', 'IP: 192.168.1.5, User: admin@airtel.com', '192.168.1.5', 1, 0, NULL, NULL),
(14, '2025-07-14 08:00:00', 'Staff User', 'Reported new risk', 'Risk ID: 54322, Name: Data Breach Concern', '192.168.1.20', 2, 0, NULL, NULL),
(15, '2025-07-17 10:30:00', 'Admin User', 'Approved user John Doe', 'User ID: 101', '192.168.1.5', 1, 0, NULL, NULL),
(16, '2025-07-17 09:45:00', 'Admin User', 'Changed role for Jane Smith', 'User ID: 102, New Role: Risk Owner', '192.168.1.5', 1, 0, NULL, NULL),
(17, '2025-07-16 16:00:00', 'System', 'Auto-assigned Risk #54321', 'Risk ID: 54321, Owner ID: 205', NULL, NULL, 0, NULL, NULL),
(18, '2025-07-16 14:15:00', 'Admin User', 'Suspended user Bob Johnson', 'User ID: 103', '192.168.1.5', 1, 1, '2025-08-11 08:04:52', 2),
(19, '2025-07-15 11:00:00', 'Unknown', 'Login attempt failed', 'IP: 192.168.1.10, User: unknown@example.com', '192.168.1.10', NULL, 0, NULL, NULL),
(20, '2025-07-15 11:05:00', 'Admin User', 'Successful login', 'IP: 192.168.1.5, User: admin@airtel.com', '192.168.1.5', 1, 0, NULL, NULL),
(21, '2025-07-14 08:00:00', 'Staff User', 'Reported new risk', 'Risk ID: 54322, Name: Data Breach Concern', '192.168.1.20', 2, 0, NULL, NULL),
(22, '2025-07-17 16:10:35', '', 'Successful Login', 'User admin1@airtel.africa logged in.', '::1', 2, 0, NULL, NULL),
(23, '2025-07-17 16:11:25', '', 'Successful Login', 'User admin1@airtel.africa logged in.', '::1', 2, 0, NULL, NULL),
(24, '2025-07-17 16:11:32', '', 'Successful Login', 'User 232001@airtel.africa logged in.', '::1', 31, 0, NULL, NULL),
(25, '2025-07-17 16:11:53', '', 'Successful Login', 'User admin1@airtel.africa logged in.', '::1', 2, 0, NULL, NULL),
(26, '2025-07-17 16:15:38', '', 'Successful Login', 'User admin1@airtel.africa logged in.', '::1', 2, 0, NULL, NULL),
(27, '2025-07-17 16:30:30', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(28, '2025-07-17 16:30:43', 'riskowner45@airtel.africa (Risk_owner)', 'Successful Login', 'User riskowner45@airtel.africa logged in successfully.', '::1', 23, 0, NULL, NULL),
(29, '2025-07-17 16:40:21', 'riskowner45@airtel.africa (Risk_owner)', 'User Logout', 'User riskowner45@airtel.africa logged out.', '::1', 23, 0, NULL, NULL),
(30, '2025-07-17 16:40:21', 'riskowner45@airtel.africa (Risk_owner)', 'User Logout', 'User riskowner45@airtel.africa logged out.', '::1', 23, 0, NULL, NULL),
(31, '2025-07-17 16:40:28', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(32, '2025-07-17 16:41:09', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(33, '2025-07-17 16:41:15', 'Michael Bonke (Risk_owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(34, '2025-07-17 16:41:33', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(35, '2025-07-18 16:09:10', 'Airtel Staff (Admin)', 'User Logout', 'User N/A logged out.', '::1', 1, 0, NULL, NULL),
(36, '2025-07-18 16:09:22', 'riskowner45@airtel.africa (Risk Owner)', 'Successful Login', 'User riskowner45@airtel.africa logged in successfully.', '::1', 23, 0, NULL, NULL),
(37, '2025-07-21 19:23:20', 'Joy Ogutu (Staff)', 'Successful Login', 'User 23188042@airtel.africa logged in successfully.', '::1', 35, 0, NULL, NULL),
(38, '2025-07-28 10:36:14', 'Marion Christine (Staff)', 'Login Attempt - Account Pending/Suspended', 'User marionchristine00@gmail.com tried to log in but account is pending.', '::1', 36, 1, '2025-07-29 08:07:30', 2),
(39, '2025-07-28 10:36:14', 'Marion Christine (Staff)', 'Login Attempt - Account Pending/Suspended', 'User marionchristine00@gmail.com tried to log in but account is pending.', '::1', 36, 1, '2025-07-29 08:07:33', 2),
(40, '2025-07-28 10:36:15', 'Marion Christine (Staff)', 'Login Attempt - Account Pending/Suspended', 'User marionchristine00@gmail.com tried to log in but account is pending.', '::1', 36, 1, '2025-07-29 08:07:24', 2),
(41, '2025-07-28 10:36:27', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(42, '2025-07-28 10:39:47', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(43, '2025-07-28 11:25:31', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(44, '2025-07-28 11:35:35', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(45, '2025-07-28 12:18:45', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(46, '2025-07-28 12:18:57', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(47, '2025-07-28 12:31:01', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(48, '2025-07-28 12:35:36', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(49, '2025-07-28 12:39:37', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(50, '2025-07-28 12:46:39', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(51, '2025-07-28 12:48:35', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(52, '2025-07-28 12:51:42', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(53, '2025-07-28 12:52:20', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(54, '2025-07-28 13:04:24', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(55, '2025-07-28 13:18:36', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(56, '2025-07-28 13:18:43', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(57, '2025-07-28 13:20:07', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(58, '2025-07-28 13:20:13', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(59, '2025-07-28 14:00:42', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(60, '2025-07-28 14:00:43', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(61, '2025-07-29 10:17:00', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(62, '2025-07-29 11:44:23', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(63, '2025-07-29 11:45:57', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(64, '2025-07-29 11:46:11', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(65, '2025-07-29 11:53:28', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(66, '2025-07-29 11:53:33', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(67, '2025-07-29 11:54:06', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(68, '2025-07-29 11:54:12', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(69, '2025-07-29 12:02:04', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(70, '2025-07-29 12:02:12', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(71, '2025-07-29 12:02:19', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(72, '2025-07-29 12:02:48', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(73, '2025-07-29 12:02:51', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(74, '2025-07-29 12:02:58', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(75, '2025-07-29 12:03:05', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(76, '2025-07-29 12:07:23', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(77, '2025-07-29 12:23:35', 'Admin', 'Account Status Changed', 'Account status changed to approved for user ID: 36 (Email: marionchristine00@gmail.com)', '::1', 2, 0, NULL, NULL),
(78, '2025-07-29 12:25:30', 'Admin', 'User Invited', 'User 23188034@airtel.africa invited with role staff', '::1', 2, 0, NULL, NULL),
(79, '2025-07-29 12:29:09', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(80, '2025-07-29 12:30:40', 'System', 'Registration Failed - Invalid Email Domain', 'Attempt to register with non-Airtel email: a_Ivan.andayi@ke.airtel.com', '::1', NULL, 0, NULL, NULL),
(81, '2025-07-29 12:34:05', 'System', 'Registration Failed - Invalid Email Domain', 'Attempt to register with non-Airtel email: a_Ivan.andayi@ke.airtel.com', '::1', NULL, 0, NULL, NULL),
(82, '2025-07-29 12:34:14', 'System', 'Registration Failed - Invalid Email Domain', 'Attempt to register with non-Airtel email: a_Ivan.andayi@ke.airtel.com', '::1', NULL, 0, NULL, NULL),
(83, '2025-07-29 12:45:09', 'Ivan Andayi (Staff)', 'New User Registration', 'New staff account created for a_Ivan.andayi@ke.airtel.com (pending approval).', '::1', 39, 0, NULL, NULL),
(84, '2025-07-29 12:45:29', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(85, '2025-07-29 12:45:39', 'Admin', 'User Approved', 'User ID: 39 (Email: a_Ivan.andayi@ke.airtel.com) approved.', '::1', 2, 0, NULL, NULL),
(86, '2025-07-29 12:49:17', 'Admin', 'User Invited', 'User A_Maurice.Oloo@ke.airtel.com invited with role staff', '::1', 2, 0, NULL, NULL),
(87, '2025-07-29 12:58:51', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(88, '2025-07-29 14:41:25', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(89, '2025-07-29 14:41:31', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(90, '2025-07-29 16:12:20', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(91, '2025-07-29 16:30:39', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(92, '2025-07-29 16:33:18', 'Admin', 'User Approved', 'Approved user ID: 40 (Email: A_Maurice.Oloo@ke.airtel.com)', '::1', 2, 0, NULL, NULL),
(93, '2025-07-29 16:33:18', 'Admin', 'User Approved', 'User ID: 40 (Email: A_Maurice.Oloo@ke.airtel.com) approved.', '::1', 2, 0, NULL, NULL),
(94, '2025-07-29 16:33:25', 'Admin', 'User Approved', 'User ID: 38 (Email: 23188034@airtel.africa) approved.', '::1', 2, 0, NULL, NULL),
(95, '2025-07-29 16:36:38', 'Admin', 'User Approved', 'User ID: 38 (Email: 23188034@airtel.africa) approved.', '::1', 2, 0, NULL, NULL),
(96, '2025-07-29 16:36:44', 'Admin', 'User Approved', 'User ID: 38 (Email: 23188034@airtel.africa) approved.', '::1', 2, 0, NULL, NULL),
(97, '2025-07-29 16:43:44', 'Admin', 'User Approved', 'User ID: 38 (Email: 23188034@airtel.africa) approved.', '::1', 2, 0, NULL, NULL),
(98, '2025-07-29 16:43:59', 'Admin', 'User Approved', 'User ID: 38 (Email: 23188034@airtel.africa) approved.', '::1', 2, 0, NULL, NULL),
(99, '2025-07-29 17:12:49', 'Admin', 'User Deleted (Soft)', 'Soft deleted user ID: 38 (Email: 23188034@airtel.africa)', '::1', 2, 0, NULL, NULL),
(100, '2025-07-29 17:15:50', 'Admin', 'User Deleted (Soft)', 'Soft deleted user ID: 38 (Email: 23188034@airtel.africa)', '::1', 2, 0, NULL, NULL),
(101, '2025-07-29 17:19:08', 'Admin', 'User Deleted (Soft)', 'Soft deleted user ID: 38 (Email: 23188034@airtel.africa)', '::1', 2, 0, NULL, NULL),
(102, '2025-07-29 17:26:12', 'Admin', 'User Deleted (Soft)', 'Soft deleted user ID: 38 (Email: 23188034@airtel.africa)', '::1', 2, 0, NULL, NULL),
(103, '2025-07-29 17:26:29', 'Admin', 'User Deleted (Soft)', 'Soft deleted user ID: 36 (Email: marionchristine00@gmail.com)', '::1', 2, 0, NULL, NULL),
(104, '2025-07-29 17:26:52', 'Admin', 'User Deleted (Soft)', 'Soft deleted user ID: 38 (Email: 23188034@airtel.africa)', '::1', 2, 0, NULL, NULL),
(105, '2025-07-29 17:26:52', 'Admin', 'User Deleted (Soft)', 'Soft deleted user ID: 36 (Email: marionchristine00@gmail.com)', '::1', 2, 0, NULL, NULL),
(106, '2025-07-29 17:34:31', 'Admin', 'User Moved to Recycle Bin', 'Moved to recycle bin user ID: 38 (Email: 23188034@airtel.africa, Name: Ivan)', '::1', 2, 0, NULL, NULL),
(107, '2025-07-29 17:34:31', 'Admin', 'User Moved to Recycle Bin', 'Moved to recycle bin user ID: 36 (Email: marionchristine00@gmail.com, Name: Marion Christine)', '::1', 2, 0, NULL, NULL),
(108, '2025-07-29 17:40:48', 'Admin', 'User Moved to Recycle Bin', 'Moved to recycle bin user ID: 38 (Email: 23188034@airtel.africa, Name: Ivan)', '::1', 2, 0, NULL, NULL),
(109, '2025-07-29 17:40:48', 'Admin', 'User Moved to Recycle Bin', 'Moved to recycle bin user ID: 36 (Email: marionchristine00@gmail.com, Name: Marion Christine)', '::1', 2, 0, NULL, NULL),
(110, '2025-07-29 17:41:05', 'Admin', 'Account Enabled', 'Enabled account for user ID: 38 (Email: 23188034@airtel.africa, Name: Ivan)', '::1', 2, 0, NULL, NULL),
(111, '2025-07-29 17:41:05', 'Admin', 'Account Enabled', 'Enabled account for user ID: 36 (Email: marionchristine00@gmail.com, Name: Marion Christine)', '::1', 2, 0, NULL, NULL),
(112, '2025-07-29 17:41:18', 'Admin', 'User Moved to Recycle Bin', 'Moved to recycle bin user ID: 38 (Email: 23188034@airtel.africa, Name: Ivan)', '::1', 2, 0, NULL, NULL),
(113, '2025-07-29 17:41:18', 'Admin', 'User Moved to Recycle Bin', 'Moved to recycle bin user ID: 36 (Email: marionchristine00@gmail.com, Name: Marion Christine)', '::1', 2, 0, NULL, NULL),
(114, '2025-07-29 17:54:44', 'Admin', 'Account Enabled', 'Enabled account for user ID: 38 (Email: 23188034@airtel.africa, Name: Ivan)', '::1', 2, 0, NULL, NULL),
(115, '2025-07-29 17:54:44', 'Admin', 'Account Enabled', 'Enabled account for user ID: 36 (Email: marionchristine00@gmail.com, Name: Marion Christine)', '::1', 2, 0, NULL, NULL),
(116, '2025-07-29 17:54:59', 'Admin', 'User Moved to Recycle Bin', 'Moved to recycle bin user ID: 38 (Email: 23188034@airtel.africa, Name: Ivan)', '::1', 2, 0, NULL, NULL),
(117, '2025-07-29 17:54:59', 'Admin', 'User Moved to Recycle Bin', 'Moved to recycle bin user ID: 36 (Email: marionchristine00@gmail.com, Name: Marion Christine)', '::1', 2, 0, NULL, NULL),
(118, '2025-07-29 17:56:12', 'Admin', 'User Restored', 'User ID: 1 (Email: 23188034@airtel.africa, Name: Ivan) restored from recycle bin.', '::1', 2, 0, NULL, NULL),
(119, '2025-07-29 17:56:27', 'Admin', 'Account Enabled', 'Enabled account for user ID: 41 (Email: 23188034@airtel.africa, Name: Ivan)', '::1', 2, 0, NULL, NULL),
(120, '2025-07-29 17:57:04', 'Admin', 'Password Reset', 'Password reset for user ID: 41 (Email: 23188034@airtel.africa, Name: Ivan)', '::1', 2, 0, NULL, NULL),
(121, '2025-07-30 11:15:59', 'Admin', 'User Permanently Deleted', 'User ID: 2 (Email: marionchristine00@gmail.com, Name: Marion Christine) permanently deleted from recycle bin.', '::1', 2, 1, '2025-07-30 08:26:48', 2),
(122, '2025-07-30 11:18:02', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(123, '2025-07-30 11:19:51', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(124, '2025-07-30 11:19:58', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(125, '2025-07-30 11:21:46', 'Ndwati Samwel (Staff)', 'New User Registration', 'New staff account created for ndwati@ke.airtel.com (pending approval).', '::1', 42, 0, NULL, NULL),
(126, '2025-07-30 11:21:59', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(127, '2025-07-30 11:23:15', 'Admin', 'User Approved', 'Approved user ID: 42 (Email: ndwati@ke.airtel.com, Name: Ndwati Samwel)', '::1', 2, 0, NULL, NULL),
(128, '2025-07-30 11:48:39', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(129, '2025-07-30 11:56:31', 'Admin', 'Account Disabled', 'Disabled account for user ID: 41 (Email: 23188034@airtel.africa, Name: Ivan)', '::1', 2, 0, NULL, NULL),
(130, '2025-07-30 11:56:31', 'Admin', 'Account Disabled', 'Disabled account for user ID: 35 (Email: 23188042@airtel.africa, Name: Joy Ogutu)', '::1', 2, 0, NULL, NULL),
(131, '2025-07-30 11:56:57', 'Admin', 'Account Enabled', 'Enabled account for user ID: 41 (Email: 23188034@airtel.africa, Name: Ivan)', '::1', 2, 0, NULL, NULL),
(132, '2025-07-30 11:56:57', 'Admin', 'Account Enabled', 'Enabled account for user ID: 35 (Email: 23188042@airtel.africa, Name: Joy Ogutu)', '::1', 2, 0, NULL, NULL),
(133, '2025-07-30 12:00:46', 'Admin', 'Account Enabled', 'Enabled account for user ID: 41 (Email: 23188034@airtel.africa, Name: Ivan)', '::1', 2, 0, NULL, NULL),
(134, '2025-07-30 12:00:46', 'Admin', 'Account Enabled', 'Enabled account for user ID: 35 (Email: 23188042@airtel.africa, Name: Joy Ogutu)', '::1', 2, 0, NULL, NULL),
(135, '2025-07-30 12:14:05', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(136, '2025-07-30 12:17:50', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(137, '2025-07-30 12:48:15', 'Admin', 'User Moved to Recycle Bin', 'Moved to recycle bin user ID: 35 (Email: 23188042@airtel.africa, Name: Joy Ogutu)', '::1', 2, 0, NULL, NULL),
(138, '2025-07-30 12:56:34', 'Admin', 'User Invited', 'User marionchristine00@gmail.com invited with role admin', '::1', 2, 0, NULL, NULL),
(139, '2025-07-30 12:56:37', 'Admin', 'User Invitation Failed', 'Attempt to invite existing user marionchristine00@gmail.com', '::1', 2, 0, NULL, NULL),
(140, '2025-07-30 12:56:40', 'Admin', 'User Invitation Failed', 'Attempt to invite existing user marionchristine00@gmail.com', '::1', 2, 0, NULL, NULL),
(141, '2025-07-30 12:56:41', 'Admin', 'User Invitation Failed', 'Attempt to invite existing user marionchristine00@gmail.com', '::1', 2, 0, NULL, NULL),
(142, '2025-07-30 12:56:42', 'Admin', 'User Invitation Failed', 'Attempt to invite existing user marionchristine00@gmail.com', '::1', 2, 0, NULL, NULL),
(143, '2025-07-30 12:56:43', 'Admin', 'User Invitation Failed', 'Attempt to invite existing user marionchristine00@gmail.com', '::1', 2, 0, NULL, NULL),
(144, '2025-07-30 12:57:12', 'Admin', 'User Invited', 'User marionchristine42@gmail.com invited with role admin', '::1', 2, 0, NULL, NULL),
(145, '2025-07-30 13:12:29', 'Admin', 'User Invitation Failed', 'Attempt to invite existing user marionchristine42@gmail.com', '::1', 2, 0, NULL, NULL),
(146, '2025-07-30 13:12:57', 'Admin', 'User Moved to Recycle Bin', 'Moved to recycle bin user ID: 44 (Email: marionchristine42@gmail.com, Name: Marion Christine)', '::1', 2, 0, NULL, NULL),
(147, '2025-07-30 13:12:57', 'Admin', 'User Moved to Recycle Bin', 'Moved to recycle bin user ID: 43 (Email: marionchristine00@gmail.com, Name: Marion Christine)', '::1', 2, 0, NULL, NULL),
(148, '2025-07-30 13:13:05', 'Admin', 'User Permanently Deleted', 'User ID: 5 (Email: marionchristine00@gmail.com, Name: Marion Christine) permanently deleted from recycle bin.', '::1', 2, 0, NULL, NULL),
(149, '2025-07-30 13:13:12', 'Admin', 'User Restored', 'User ID: 4 (Email: marionchristine42@gmail.com, Name: Marion Christine) restored from recycle bin.', '::1', 2, 0, NULL, NULL),
(150, '2025-07-30 13:13:57', 'Admin', 'User Moved to Recycle Bin', 'Moved to recycle bin user ID: 45 (Email: marionchristine42@gmail.com, Name: Marion Christine)', '::1', 2, 0, NULL, NULL),
(151, '2025-07-30 13:14:03', 'Admin', 'User Restored', 'User ID: 6 (Email: marionchristine42@gmail.com, Name: Marion Christine) restored from recycle bin.', '::1', 2, 0, NULL, NULL),
(152, '2025-07-30 13:18:49', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(153, '2025-07-30 13:19:31', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(154, '2025-07-30 13:19:54', 'Admin', 'User Invited', 'User marionchristine00@gmail.com invited with role admin - Email sending failed', '::1', 2, 0, NULL, NULL),
(155, '2025-07-30 13:19:54', 'Admin', 'User Invitation Failed', 'Attempt to invite existing user marionchristine00@gmail.com', '::1', 2, 0, NULL, NULL),
(156, '2025-07-30 13:20:52', 'Admin', 'User Invited', 'User marionitta123@gmail.com invited with role admin - Email sending failed', '::1', 2, 0, NULL, NULL),
(157, '2025-07-30 13:40:04', 'Admin', 'Invitation Failed', 'Failed to send invitation email to marionitta123@gmail.com', '::1', 2, 0, NULL, NULL),
(158, '2025-07-30 13:40:13', 'Admin', 'Invitation Failed', 'Failed to send invitation email to marionitta123@gmail.com', '::1', 2, 0, NULL, NULL),
(159, '2025-07-30 13:40:28', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(160, '2025-07-30 13:41:04', 'Admin', 'Invitation Failed', 'Failed to send invitation email to marionitta123@gmail.com', '::1', 2, 0, NULL, NULL),
(161, '2025-07-30 13:41:26', 'Admin', 'User Moved to Recycle Bin', 'Moved to recycle bin user ID: 48 (Email: marionitta123@gmail.com, Name: Marion Christine)', '::1', 2, 0, NULL, NULL),
(162, '2025-07-30 13:41:26', 'Admin', 'User Moved to Recycle Bin', 'Moved to recycle bin user ID: 47 (Email: marionchristine00@gmail.com, Name: Marion Christine)', '::1', 2, 0, NULL, NULL),
(163, '2025-07-30 13:41:26', 'Admin', 'User Moved to Recycle Bin', 'Moved to recycle bin user ID: 46 (Email: marionchristine42@gmail.com, Name: Marion Christine)', '::1', 2, 0, NULL, NULL),
(164, '2025-07-30 13:41:32', 'Admin', 'User Permanently Deleted', 'User ID: 7 (Email: marionitta123@gmail.com, Name: Marion Christine) permanently deleted from recycle bin.', '::1', 2, 0, NULL, NULL),
(165, '2025-07-30 13:41:36', 'Admin', 'User Permanently Deleted', 'User ID: 8 (Email: marionchristine00@gmail.com, Name: Marion Christine) permanently deleted from recycle bin.', '::1', 2, 0, NULL, NULL),
(166, '2025-07-30 13:41:42', 'Admin', 'User Permanently Deleted', 'User ID: 9 (Email: marionchristine42@gmail.com, Name: Marion Christine) permanently deleted from recycle bin.', '::1', 2, 0, NULL, NULL),
(167, '2025-07-30 13:49:26', 'User Today (Risk Owner)', 'New User Registration', 'New risk_owner account created for usertoday@ke.airtel.com (pending approval).', '::1', 49, 0, NULL, NULL),
(168, '2025-07-30 13:49:32', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(169, '2025-07-30 13:49:44', 'Admin', 'Invitation Failed', 'Failed to send invitation email to usertoday@ke.airtel.com', '::1', 2, 0, NULL, NULL),
(170, '2025-07-30 13:49:59', 'Admin', 'User Approved', 'Approved user ID: 49 (Email: usertoday@ke.airtel.com, Name: User Today)', '::1', 2, 0, NULL, NULL),
(171, '2025-07-30 13:52:58', 'UserYesterday (Risk Owner)', 'New User Registration', 'New risk_owner account created for ysterday@ke.airtel.com (pending approval).', '::1', 50, 0, NULL, NULL),
(172, '2025-07-30 13:53:10', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(173, '2025-07-30 13:53:26', 'Admin', 'User Approved', 'Approved user ID: 50 (Email: ysterday@ke.airtel.com, Name: UserYesterday)', '::1', 2, 0, NULL, NULL),
(174, '2025-07-30 13:57:39', 'Admin', 'User Approved', 'Approved user ID: 50 (Email: ysterday@ke.airtel.com, Name: UserYesterday)', '::1', 2, 0, NULL, NULL),
(175, '2025-07-30 13:58:09', 'Admin', 'Invitation Failed', 'Failed to send invitation email to staff@airtel.africa', '::1', 2, 0, NULL, NULL),
(176, '2025-07-30 14:15:13', 'Admin', 'Invitation Failed', 'Failed to send invitation email to staff@airtel.africa', '::1', 2, 0, NULL, NULL),
(177, '2025-07-30 14:24:56', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(178, '2025-07-30 14:33:39', 'Admin', 'Invitation Sent', 'Invitation sent to A_Maurice.Oloo@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(179, '2025-07-30 14:39:50', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(180, '2025-07-30 14:39:51', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(181, '2025-07-30 14:40:19', 'Admin', 'Invitation Sent', 'Invitation sent to A_Maurice.Oloo@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(182, '2025-07-30 14:56:50', 'Admin', 'Invitation Sent', 'Invitation sent to A_Maurice.Oloo@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(183, '2025-07-30 14:57:23', 'Admin', 'Invitation Sent', 'Invitation sent to A_Maurice.Oloo@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(184, '2025-07-30 14:59:14', 'Admin', 'Invitation Sent', 'Invitation sent to A_Maurice.Oloo@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(185, '2025-07-30 15:05:09', 'Admin', 'Invitation Created', 'Invitation created for A_Maurice.Oloo@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(186, '2025-07-30 15:05:32', 'Admin', 'Invitation Created', 'Invitation created for A_Maurice.Oloo@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(187, '2025-07-30 15:32:14', 'Admin', 'Invitation Created', 'Invitation created for A_Maurice.Oloo@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(188, '2025-07-30 15:47:05', 'Admin', 'Invitation Created', 'Invitation created for A_Maurice.Oloo@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(189, '2025-07-30 15:47:45', 'Admin', 'Invitation Created', 'Invitation created for a_Ivan.andayi@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(190, '2025-07-30 16:05:53', 'Admin', 'Invitation Created', 'Invitation created for a_Ivan.andayi@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(191, '2025-07-30 16:06:18', 'Admin', 'Invitation Created', 'Invitation created for a_Ivan.andayi@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(192, '2025-07-30 16:34:40', 'Admin', 'Invitation Created', 'Invitation created for a_Ivan.andayi@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(193, '2025-07-30 16:35:04', 'Admin', 'Invitation Created', 'Invitation created for a_Ivan.andayi@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(194, '2025-07-30 16:55:58', 'Admin', 'Invitation Created', 'Invitation created for a_Ivan.andayi@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(195, '2025-07-30 16:56:22', 'Admin', 'Invitation Created', 'Invitation created for A_Maurice.Oloo@ke.airtel.com with new credentials', '::1', 2, 0, NULL, NULL),
(196, '2025-07-30 17:08:26', 'Admin', 'Invitation Created', 'Invitation created for A_Maurice.Oloo@ke.airtel.com (User ID: 40) with new credentials', '::1', 2, 0, NULL, NULL),
(197, '2025-07-30 17:09:12', 'Admin', 'Invitation Created', 'Invitation created for A_Maurice.Oloo@ke.airtel.com (User ID: 40) with new credentials', '::1', 2, 0, NULL, NULL),
(198, '2025-07-30 17:11:00', 'Admin', 'Invitation Created', 'Invitation created for a_Ivan.andayi@ke.airtel.com (User ID: 39) with new credentials', '::1', 2, 0, NULL, NULL),
(199, '2025-07-30 17:25:48', 'Admin', 'Individual Invitation Sent', 'Invitation sent to a_Ivan.andayi@ke.airtel.com (User ID: 39) with new credentials', '::1', 2, 0, NULL, NULL),
(200, '2025-07-30 17:26:22', 'Admin', 'Individual Invitation Sent', 'Invitation sent to A_Maurice.Oloo@ke.airtel.com (User ID: 40) with new credentials', '::1', 2, 0, NULL, NULL),
(201, '2025-07-30 17:32:22', 'Admin', 'Individual Invitation Sent', 'Invitation sent to A_Maurice.Oloo@ke.airtel.com (User ID: 40) with new credentials', '::1', 2, 0, NULL, NULL),
(202, '2025-07-30 17:51:46', 'Admin', 'Individual Invitation Sent', 'Invitation sent to A_Maurice.Oloo@ke.airtel.com (User ID: 40) with new credentials', '::1', 2, 0, NULL, NULL),
(203, '2025-07-30 17:52:07', 'Admin', 'Individual Invitation Sent', 'Invitation sent to a_Ivan.andayi@ke.airtel.com (User ID: 39) with new credentials', '::1', 2, 0, NULL, NULL),
(204, '2025-08-01 14:29:04', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(205, '2025-08-01 14:31:06', 'Admin', 'Individual Invitation Sent', 'Invitation sent to staff43@airtel.africa (User ID: 25) with new credentials', '::1', 2, 0, NULL, NULL),
(206, '2025-08-11 10:44:05', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(207, '2025-08-11 15:16:56', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(208, '2025-08-11 15:17:11', 'System', 'Failed Login - User Not Found', 'Attempt to log in with non-existent email: Maurice@airtel.africa', '::1', NULL, 0, NULL, NULL),
(209, '2025-08-11 15:17:13', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(210, '2025-08-12 11:01:37', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(211, '2025-08-13 15:01:19', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(212, '2025-08-13 15:01:24', 'System', 'Failed Login - User Not Found', 'Attempt to log in with non-existent email: 23188042@airtel.africa', '::1', NULL, 0, NULL, NULL),
(213, '2025-08-13 15:01:28', 'Ronal Mutisya (Risk Owner)', 'Successful Login', 'User 232003@airtel.africa logged in successfully.', '::1', 32, 0, NULL, NULL),
(214, '2025-08-13 15:01:51', 'Ronal Mutisya (Risk Owner)', 'User Logout', 'User 232003@airtel.africa logged out.', '::1', 32, 0, NULL, NULL),
(215, '2025-08-13 15:02:01', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(216, '2025-08-13 15:44:59', 'Admin', 'System Backup Performed', 'Manual backup initiated from admin dashboard', '::1', 2, 0, NULL, NULL),
(217, '2025-08-13 15:59:33', 'Admin', 'System Backup Performed', 'Manual backup initiated from admin dashboard', '::1', 2, 0, NULL, NULL),
(218, '2025-08-13 15:59:48', 'Admin', 'System Cache Cleared', 'Cache cleared from admin dashboard', '::1', 2, 0, NULL, NULL),
(219, '2025-08-13 15:59:49', 'Admin', 'System Backup Performed', 'Manual backup initiated from admin dashboard', '::1', 2, 0, NULL, NULL),
(220, '2025-08-13 16:00:38', 'Admin', 'System Backup Performed', 'Manual backup initiated from admin dashboard', '::1', 2, 0, NULL, NULL),
(221, '2025-08-13 16:01:28', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(222, '2025-08-13 16:01:36', 'System', 'Failed Login - User Not Found', 'Attempt to log in with non-existent email: staff5@airtel.africa', '::1', NULL, 0, NULL, NULL),
(223, '2025-08-13 16:01:41', 'Ronal Mutisya (Risk Owner)', 'Successful Login', 'User 232003@airtel.africa logged in successfully.', '::1', 32, 0, NULL, NULL),
(224, '2025-08-13 16:01:49', 'Ronal Mutisya (Risk Owner)', 'User Logout', 'User 232003@airtel.africa logged out.', '::1', 32, 0, NULL, NULL),
(225, '2025-08-13 16:02:02', 'Michael Otanga (Staff)', 'Successful Login', 'User 232001@airtel.africa logged in successfully.', '::1', 31, 0, NULL, NULL),
(226, '2025-08-13 17:06:24', 'Michael Otanga (Staff)', 'User Logout', 'User 232001@airtel.africa logged out.', '::1', 31, 0, NULL, NULL),
(227, '2025-08-13 17:06:29', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(228, '2025-08-13 17:13:26', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(229, '2025-08-13 17:13:31', 'Sebastian Kioko (Staff)', 'Successful Login', 'User 232002@airtel.africa logged in successfully.', '::1', 33, 0, NULL, NULL),
(230, '2025-08-13 17:16:36', 'Sebastian Kioko (Staff)', 'User Logout', 'User 232002@airtel.africa logged out.', '::1', 33, 0, NULL, NULL),
(231, '2025-08-13 17:16:45', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(232, '2025-08-13 17:43:35', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(233, '2025-08-13 17:43:41', 'Michael Otanga (Staff)', 'Successful Login', 'User 232001@airtel.africa logged in successfully.', '::1', 31, 0, NULL, NULL),
(234, '2025-08-15 12:02:22', 'Michael Otanga (Staff)', 'User Logout', 'User 232001@airtel.africa logged out.', '::1', 31, 0, NULL, NULL),
(235, '2025-08-15 12:02:29', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(236, '2025-08-15 12:36:02', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(237, '2025-08-15 12:36:07', 'Michael Otanga (Staff)', 'Successful Login', 'User 232001@airtel.africa logged in successfully.', '::1', 31, 0, NULL, NULL),
(238, '2025-08-15 12:42:47', 'Michael Otanga (Staff)', 'User Logout', 'User 232001@airtel.africa logged out.', '::1', 31, 0, NULL, NULL),
(239, '2025-08-15 12:42:52', 'Sebastian Kioko (Staff)', 'Successful Login', 'User 232002@airtel.africa logged in successfully.', '::1', 33, 0, NULL, NULL),
(240, '2025-08-15 12:42:55', 'Sebastian Kioko (Staff)', 'User Logout', 'User 232002@airtel.africa logged out.', '::1', 33, 0, NULL, NULL),
(241, '2025-08-15 12:43:01', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(242, '2025-08-15 12:44:18', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(243, '2025-08-15 12:44:29', 'Michael Otanga (Staff)', 'Successful Login', 'User 232001@airtel.africa logged in successfully.', '::1', 31, 0, NULL, NULL),
(244, '2025-08-15 12:55:31', 'Michael Otanga (Staff)', 'User Logout', 'User 232001@airtel.africa logged out.', '::1', 31, 0, NULL, NULL),
(245, '2025-08-15 12:55:47', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(246, '2025-08-15 12:55:56', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(247, '2025-08-15 12:55:59', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(248, '2025-08-15 12:56:35', 'Michael Otanga (Staff)', 'Successful Login', 'User 232001@airtel.africa logged in successfully.', '::1', 31, 0, NULL, NULL),
(249, '2025-08-15 13:16:20', 'Michael Otanga (Staff)', 'User Logout', 'User 232001@airtel.africa logged out.', '::1', 31, 0, NULL, NULL),
(250, '2025-08-15 13:16:31', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(251, '2025-08-15 13:16:36', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(252, '2025-08-15 13:16:40', 'Michael Otanga (Staff)', 'Successful Login', 'User 232001@airtel.africa logged in successfully.', '::1', 31, 0, NULL, NULL),
(253, '2025-08-15 13:17:21', 'Michael Otanga (Staff)', 'User Logout', 'User 232001@airtel.africa logged out.', '::1', 31, 0, NULL, NULL),
(254, '2025-08-15 13:17:26', 'Sebastian Kioko (Staff)', 'Successful Login', 'User 232002@airtel.africa logged in successfully.', '::1', 33, 0, NULL, NULL),
(255, '2025-08-15 13:20:55', 'Sebastian Kioko (Staff)', 'User Logout', 'User 232002@airtel.africa logged out.', '::1', 33, 0, NULL, NULL),
(256, '2025-08-15 13:21:04', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(257, '2025-08-15 13:23:56', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(258, '2025-08-15 13:24:47', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(259, '2025-08-15 13:24:52', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(260, '2025-08-15 13:38:20', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(261, '2025-08-15 14:00:16', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(262, '2025-08-15 14:00:20', 'Michael Otanga (Staff)', 'Successful Login', 'User 232001@airtel.africa logged in successfully.', '::1', 31, 0, NULL, NULL),
(263, '2025-08-15 14:06:22', 'Michael Otanga (Staff)', 'User Logout', 'User 232001@airtel.africa logged out.', '::1', 31, 0, NULL, NULL),
(264, '2025-08-15 14:06:28', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(265, '2025-08-18 12:38:06', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(266, '2025-08-18 12:38:19', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(267, '2025-08-18 12:38:33', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(268, '2025-08-18 13:26:07', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(269, '2025-08-18 13:26:15', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(270, '2025-08-18 13:26:21', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(271, '2025-08-18 13:30:05', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(272, '2025-08-18 13:31:23', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(273, '2025-08-18 13:36:09', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(274, '2025-08-18 13:36:13', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(275, '2025-08-18 13:44:42', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(276, '2025-08-18 13:53:03', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(277, '2025-08-18 13:55:26', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(278, '2025-08-18 13:55:30', 'Michael Otanga (Staff)', 'Successful Login', 'User 232001@airtel.africa logged in successfully.', '::1', 31, 0, NULL, NULL),
(279, '2025-08-18 13:55:39', 'Michael Otanga (Staff)', 'User Logout', 'User 232001@airtel.africa logged out.', '::1', 31, 0, NULL, NULL),
(280, '2025-08-18 14:01:21', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(281, '2025-08-18 14:01:25', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(282, '2025-08-18 14:13:23', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(283, '2025-08-18 14:14:03', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(284, '2025-08-18 14:14:12', 'Sebastian Kioko (Staff)', 'Successful Login', 'User 232002@airtel.africa logged in successfully.', '::1', 33, 0, NULL, NULL),
(285, '2025-08-18 14:41:56', 'Sebastian Kioko (Staff)', 'User Logout', 'User 232002@airtel.africa logged out.', '::1', 33, 0, NULL, NULL),
(286, '2025-08-18 14:42:09', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(287, '2025-08-18 14:44:28', 'Michael Otanga (Staff)', 'Successful Login', 'User 232001@airtel.africa logged in successfully.', '::1', 31, 0, NULL, NULL),
(288, '2025-08-18 15:22:46', 'Michael Otanga (Staff)', 'User Logout', 'User 232001@airtel.africa logged out.', '::1', 31, 0, NULL, NULL),
(289, '2025-08-18 15:22:54', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(290, '2025-08-18 15:36:39', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(291, '2025-08-18 15:50:33', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(292, '2025-08-18 15:50:44', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(293, '2025-08-18 15:54:42', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(294, '2025-08-18 15:54:46', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(295, '2025-08-18 16:00:42', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(296, '2025-08-18 16:00:56', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(297, '2025-08-18 16:01:24', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(298, '2025-08-18 16:01:27', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(299, '2025-08-18 16:03:27', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(300, '2025-08-18 16:03:39', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(301, '2025-08-18 16:07:42', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(302, '2025-08-18 16:07:48', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(303, '2025-08-18 16:09:29', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(304, '2025-08-18 16:09:37', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(305, '2025-08-18 16:11:05', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(306, '2025-08-18 16:11:08', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(307, '2025-08-18 16:11:12', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(308, '2025-08-18 16:11:16', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(309, '2025-08-18 16:22:37', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(310, '2025-08-18 16:22:42', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(311, '2025-08-18 16:24:07', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(312, '2025-08-18 16:24:11', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(313, '2025-08-18 16:43:31', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(314, '2025-08-18 16:43:35', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(315, '2025-08-18 16:45:11', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(316, '2025-08-18 16:45:18', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(317, '2025-08-18 16:49:32', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(318, '2025-08-18 16:49:37', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(319, '2025-08-18 16:52:47', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(320, '2025-08-18 16:52:51', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(321, '2025-08-18 17:17:31', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL);
INSERT INTO `system_audit_logs` (`id`, `timestamp`, `user`, `action`, `details`, `ip_address`, `user_id`, `resolved`, `resolved_at`, `resolved_by`) VALUES
(322, '2025-08-18 17:17:42', 'Airtel Staff (Admin)', 'Failed Login - Invalid Password', 'User staff@airtel.africa entered an invalid password.', '::1', 1, 0, NULL, NULL),
(323, '2025-08-18 17:17:49', 'Michael Otanga (Staff)', 'Successful Login', 'User 232001@airtel.africa logged in successfully.', '::1', 31, 0, NULL, NULL),
(324, '2025-08-18 17:25:52', 'Michael Otanga (Staff)', 'User Logout', 'User 232001@airtel.africa logged out.', '::1', 31, 0, NULL, NULL),
(325, '2025-08-18 17:25:59', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(326, '2025-08-18 17:29:47', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(327, '2025-08-18 17:29:55', 'Michael Otanga (Staff)', 'Successful Login', 'User 232001@airtel.africa logged in successfully.', '::1', 31, 0, NULL, NULL),
(328, '2025-08-18 17:31:55', 'Michael Otanga (Staff)', 'User Logout', 'User 232001@airtel.africa logged out.', '::1', 31, 0, NULL, NULL),
(329, '2025-08-18 17:32:00', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(330, '2025-08-18 17:36:05', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(331, '2025-08-18 17:36:11', 'Michael Otanga (Staff)', 'Successful Login', 'User 232001@airtel.africa logged in successfully.', '::1', 31, 0, NULL, NULL),
(332, '2025-08-18 17:36:59', 'Michael Otanga (Staff)', 'User Logout', 'User 232001@airtel.africa logged out.', '::1', 31, 0, NULL, NULL),
(333, '2025-08-18 17:37:05', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(334, '2025-08-18 17:42:19', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(335, '2025-08-18 17:42:24', 'Michael Otanga (Staff)', 'Successful Login', 'User 232001@airtel.africa logged in successfully.', '::1', 31, 0, NULL, NULL),
(336, '2025-08-18 17:44:48', 'Michael Otanga (Staff)', 'User Logout', 'User 232001@airtel.africa logged out.', '::1', 31, 0, NULL, NULL),
(337, '2025-08-18 17:44:55', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(338, '2025-08-18 17:48:20', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(339, '2025-08-18 17:48:27', 'Michael Otanga (Staff)', 'Successful Login', 'User 232001@airtel.africa logged in successfully.', '::1', 31, 0, NULL, NULL),
(340, '2025-08-18 17:49:58', 'Michael Otanga (Staff)', 'User Logout', 'User 232001@airtel.africa logged out.', '::1', 31, 0, NULL, NULL),
(341, '2025-08-18 17:50:03', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(342, '2025-08-18 18:02:06', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(343, '2025-08-18 18:02:10', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(344, '2025-08-19 11:26:13', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(345, '2025-08-19 11:26:20', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(346, '2025-08-19 12:00:26', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(347, '2025-08-19 12:00:30', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(348, '2025-08-19 12:12:00', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(349, '2025-08-19 12:12:10', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(350, '2025-08-19 12:31:35', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(351, '2025-08-19 12:31:42', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(352, '2025-08-19 12:36:47', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(353, '2025-08-19 12:36:53', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(354, '2025-08-19 13:22:44', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(355, '2025-08-19 13:22:55', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(356, '2025-08-19 13:32:40', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(357, '2025-08-19 13:32:47', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(358, '2025-08-19 14:09:39', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(359, '2025-08-19 14:09:45', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(360, '2025-08-19 14:09:49', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(361, '2025-08-19 14:09:54', 'Michael Otanga (Staff)', 'Successful Login', 'User 232001@airtel.africa logged in successfully.', '::1', 31, 0, NULL, NULL),
(362, '2025-08-19 14:10:12', 'Michael Otanga (Staff)', 'User Logout', 'User 232001@airtel.africa logged out.', '::1', 31, 0, NULL, NULL),
(363, '2025-08-19 14:10:36', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(364, '2025-08-19 14:13:08', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(365, '2025-08-19 14:13:18', 'admin1@airtel.africa (Admin)', 'Successful Login', 'User admin1@airtel.africa logged in successfully.', '::1', 2, 0, NULL, NULL),
(366, '2025-08-19 14:14:20', 'Admin', 'System Cache Cleared', 'Cache cleared from admin dashboard', '::1', 2, 0, NULL, NULL),
(367, '2025-08-19 14:14:25', 'Admin', 'System Backup Performed', 'Manual backup initiated from admin dashboard', '::1', 2, 0, NULL, NULL),
(368, '2025-08-19 14:14:37', 'admin1@airtel.africa (Admin)', 'User Logout', 'User admin1@airtel.africa logged out.', '::1', 2, 0, NULL, NULL),
(369, '2025-08-19 14:14:42', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL),
(370, '2025-08-19 17:56:30', 'compliance@airtel.co.ke (Compliance Team)', 'User Logout', 'User compliance@airtel.co.ke logged out.', '::1', 4, 0, NULL, NULL),
(371, '2025-08-19 17:56:36', 'Michael Bonke (Risk Owner)', 'Successful Login', 'User 232000@airtel.africa logged in successfully.', '::1', 29, 0, NULL, NULL),
(372, '2025-08-19 17:56:51', 'Michael Bonke (Risk Owner)', 'User Logout', 'User 232000@airtel.africa logged out.', '::1', 29, 0, NULL, NULL),
(373, '2025-08-19 17:56:57', 'compliance@airtel.co.ke (Compliance Team)', 'Successful Login', 'User compliance@airtel.co.ke logged in successfully.', '::1', 4, 0, NULL, NULL);

DROP TABLE IF EXISTS `treatment_documents`;
CREATE TABLE `treatment_documents` (
  `id` int(11) NOT NULL,
  `treatment_id` int(11) NOT NULL,
  `original_filename` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `file_path` varchar(500) COLLATE utf8mb4_unicode_ci NOT NULL,
  `file_size` int(11) NOT NULL,
  `file_type` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `uploaded_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

DROP TABLE IF EXISTS `users`;
CREATE TABLE `users` (
  `id` int(11) NOT NULL,
  `username` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `password` varchar(255) NOT NULL,
  `full_name` varchar(100) NOT NULL,
  `role` enum('staff','risk_owner','compliance_team','admin') NOT NULL,
  `department` varchar(100) DEFAULT NULL,
  `phone` varchar(20) DEFAULT NULL,
  `is_active` tinyint(1) DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `status` enum('pending','approved','rejected') DEFAULT 'approved',
  `area_of_responsibility` varchar(255) DEFAULT NULL,
  `assigned_risk_owner_id` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `users` (`id`, `username`, `email`, `password`, `full_name`, `role`, `department`, `phone`, `is_active`, `created_at`, `updated_at`, `status`, `area_of_responsibility`, `assigned_risk_owner_id`) VALUES
(1, 'staff', 'staff@airtel.africa', '$2y$10$IWY.euXIm9QyaaJayzjRk.m11XiMl92LZOsP3tRj58TBUy76/FQvq', 'Airtel Staff', 'admin', 'IT', NULL, 1, '2025-06-19 13:01:20', '2025-07-30 11:15:12', 'approved', NULL, NULL),
(2, 'admin1@airtel.africa', 'admin1@airtel.africa', '$2y$10$qivdI.iwtj0eRM9ikOBoXOBBBqvAguxSEySR9exH8SVRHy/VI5HvS', 'admin1@airtel.africa', 'admin', 'General', NULL, 1, '2025-06-19 13:04:44', '2025-06-19 13:04:44', 'approved', NULL, NULL),
(3, 'staff7@airtel.africa', 'staff7@airtel.africa', '$2y$10$HDzkoQNJp2L8KztiA4UxDOWxm3xROB//LAG8U1xT.2Gb3kpKJPLCq', 'staff7@airtel.africa', 'staff', 'General', NULL, 1, '2025-06-19 13:45:26', '2025-07-30 09:45:39', 'approved', NULL, NULL),
(4, 'compliance@airtel.co.ke', 'compliance@airtel.co.ke', '$2y$10$5bO3DQL7I/s6D1aIqqE9BOkSf21hQThvffPa8TXkUG/H0ZialliJS', 'compliance@airtel.co.ke', 'compliance_team', 'General', NULL, 1, '2025-06-19 14:31:44', '2025-06-19 14:31:44', 'approved', NULL, NULL),
(5, 'riskowner2@airtel.africa', 'riskowner2@airtel.africa', '$2y$10$5m/UW71k52b764krikRkuehDFqbFDSN/nio7lgMaxzXQG/wjTSQ0y', 'riskowner2@airtel.africa', 'risk_owner', 'General', NULL, 0, '2025-06-20 08:31:36', '2025-07-30 09:46:15', '', NULL, NULL),
(6, 'riskowner9@airtel.africa', 'riskowner9@airtel.africa', '$2y$10$Sg0AKDPJZuqgQW0tNMezDO.4ymA.bFkIGEXc006chyNhRoxL.0X6u', 'riskowner9@airtel.africa', 'risk_owner', 'General', NULL, 1, '2025-06-20 09:05:19', '2025-06-20 09:05:19', 'approved', NULL, NULL),
(7, 'riskowner10@airtel.africa', 'riskowner10@airtel.africa', '$2y$10$dUMjMqEPcHhdmiM6rY6PpOo.umSFLz1rIZ.O2CYiWTfmYLNIR8maK', 'riskowner10@airtel.africa', 'risk_owner', 'General', NULL, 1, '2025-06-20 09:24:00', '2025-06-20 09:24:00', 'approved', NULL, NULL),
(8, 'riskowner100@airtel.africa', 'riskowner100@airtel.africa', '$2y$10$ci9ksQJBR8deSA6Oy93nY.m.D67QIFbFViJNquJFWYR2DodenCob2', 'riskowner100@airtel.africa', 'risk_owner', 'General', NULL, 1, '2025-06-20 12:55:38', '2025-06-20 12:55:38', 'approved', NULL, NULL),
(9, 'riskowner101@airtel.africa', 'riskowner101@airtel.africa', '$2y$10$hXHCMM5J9dAawLtidRkSwu.yDA4UnNIGlHbCCw/HSM5qXQEmWCeou', 'riskowner101@airtel.africa', 'risk_owner', 'General', NULL, 1, '2025-06-20 13:02:08', '2025-06-20 13:02:08', 'approved', NULL, NULL),
(10, 'riskowner102@airtel.africa', 'riskowner102@airtel.africa', '$2y$10$qh7vjdhg45YrNHLp8QlQ6uhut8ZZIhHPqc6usCjyjFyXZtntu0QVu', 'riskowner102@airtel.africa', 'staff', 'General', NULL, 1, '2025-06-20 13:55:00', '2025-06-20 13:55:00', 'approved', NULL, NULL),
(11, 'riskowner106@airtel.africa', 'riskowner106@airtel.africa', '$2y$10$TLIm2I3v7RMrblpfp.uiUOpNqkUbKaadYE/SMNElnMMzQxvpnJhf.', 'riskowner106@airtel.africa', 'risk_owner', 'General', NULL, 1, '2025-06-20 13:56:23', '2025-06-20 13:56:23', 'approved', NULL, NULL),
(12, 'riskowner000@airtel.africa', 'riskowner000@airtel.africa', '$2y$10$rWUxbgTVhIuwH5LzAyuXLu/nwJXSIg1/CQyVkAItFZ42c/AoBw1O2', 'riskowner000@airtel.africa', 'risk_owner', 'General', NULL, 1, '2025-06-20 15:47:28', '2025-06-20 15:47:28', 'approved', NULL, NULL),
(13, 'staff777@airtel.africa', 'staff777@airtel.africa', '$2y$10$03oZ38jIR8gSN7dGEYX8ZOrl/4tl53xQWOcUq4TQs.KBdMuUK7o1C', 'staff777@airtel.africa', 'staff', 'General', NULL, 1, '2025-06-24 11:59:36', '2025-06-24 11:59:36', 'approved', NULL, NULL),
(22, 'staff45', 'staff45@airtel.africa', '$2y$10$4NhR2DabOaJX7b1nAfz2BOgAvxz8WyhRZnG2LzE.D6a9gvhyZicCy', 'staff45@airtel.africa', 'staff', 'Customer Service', NULL, 1, '2025-07-01 07:05:19', '2025-07-01 07:05:54', 'approved', NULL, NULL),
(23, 'riskowner45', 'riskowner45@airtel.africa', '$2y$10$TfdE8mnuRwHpDqoM0cBJOe8M.zSjLgVEy985NQ4IMI9uaoIsTHhUq', 'riskowner45@airtel.africa', 'risk_owner', 'Customer Service', NULL, 1, '2025-07-01 07:06:32', '2025-07-01 07:06:37', 'approved', NULL, NULL),
(24, 'staff44', 'staff44@airtel.africa', '$2y$10$7N9yGMQ/9wKMzllcApKHn.qwIO4hG/OP6.kal2t/l.sSlWkIWtzMO', 'staff44@airtel.africa', 'staff', 'Customer Service', NULL, 1, '2025-07-01 07:10:18', '2025-07-01 07:10:30', 'approved', NULL, NULL),
(25, 'staff43', 'staff43@airtel.africa', '$2y$10$fLyUS9zNmpY2Cz6xsjmh8.8WeHLpiWlm4f7b8kw.dDrmGfw5CgNE2', 'staff43@airtel.africa', 'staff', 'Customer Service', NULL, 1, '2025-07-01 07:29:19', '2025-08-01 11:30:59', 'approved', NULL, NULL),
(26, 'staff32', 'staff32@airtel.africa', '$2y$10$VT9K18eOXDW4tr3MfzqrX.RzRGlo5dkJiusGjYSXJozqFXPB1i5NK', 'Marion Christine', 'staff', 'IT & Technology', NULL, 1, '2025-07-10 09:16:14', '2025-07-10 09:16:49', 'approved', NULL, NULL),
(29, '232000', '232000@airtel.africa', '$2y$10$vsF06Osr6k6NZhJqr4PgIe3/pxfdWczS3Az.tPUnHks5f5DMKSzSO', 'Michael Bonke', 'risk_owner', 'Airtel Money', NULL, 1, '2025-07-14 08:59:25', '2025-07-14 09:03:51', 'approved', 'Marketing', NULL),
(31, '232001', '232001@airtel.africa', '$2y$10$IXz1FGtUJDMo/1RhAeejJuMlYOAeHWaEbEWqcTPV3/YvhahIIQXgW', 'Michael Otanga', 'staff', 'Airtel Money', NULL, 1, '2025-07-14 09:42:18', '2025-07-14 09:42:34', 'approved', NULL, 29),
(32, '232003', '232003@airtel.africa', '$2y$10$cGgMW3iIniihWZwYqsPFsu38rFnWiqgeAZByCV/9SS1AdcdjRJbPy', 'Ronal Mutisya', 'risk_owner', 'IT & Technology', NULL, 1, '2025-07-14 09:44:50', '2025-07-14 09:45:03', 'approved', 'IT', NULL),
(33, '232002', '232002@airtel.africa', '$2y$10$gVkPi9iQZs9GR7ckHpkon.7Tw6LQOrHk4QhBsKttnTNEog0U8Bwge', 'Sebastian Kioko', 'staff', 'IT & Technology', NULL, 1, '2025-07-14 09:46:42', '2025-07-14 09:46:53', 'approved', NULL, 32),
(34, '232004', '232004@airtel.africa', '$2y$10$gPwYWYGvOWnelVOLlmb0HuJeGppTOX1oxRMzPURZPLolGJo7Is8j.', 'Peter Mwangi ', 'risk_owner', 'Risk & Compliance', NULL, 1, '2025-07-15 11:56:25', '2025-07-15 11:56:35', 'approved', 'IT', NULL),
(39, 'a_Ivan.andayi', 'a_Ivan.andayi@ke.airtel.com', '$2y$10$6q0m.LqazZyyu7IAiD/GFez3rvZjJBftSfALizBctm1cFXr67swDa', 'Ivan Andayi', 'staff', 'Airtel Money', NULL, 1, '2025-07-29 09:45:09', '2025-07-30 14:52:02', 'approved', NULL, 29),
(40, 'A_Maurice.Oloo@ke.airtel.com', 'A_Maurice.Oloo@ke.airtel.com', '$2y$10$xVyigCtMXb0Vdq3zecifd.T5RELjFV8EXo3i5REzFSgrZhdC3v7NG', 'Maurice Oloo', 'staff', 'Airtel Money', NULL, 1, '2025-07-29 09:49:17', '2025-07-30 14:51:38', 'approved', NULL, NULL),
(41, '23188034@airtel.africa', '23188034@airtel.africa', '$2y$10$.FuZgvfoEY7CgwqRSAqZ0.latKA6dSgSVjS2bPE1bWqaXfpsN1J3C', 'Ivan', 'staff', 'Airtel Money', NULL, 1, '2025-07-29 09:25:30', '2025-07-30 09:00:46', 'approved', NULL, NULL),
(42, 'ndwati', 'ndwati@ke.airtel.com', '$2y$10$xYBuHBKfujvTOK9JBBdYxu.og3lqxettrc0ulE2t6PBK3qumcMvsG', 'Ndwati Samwel', 'staff', 'Airtel Money', NULL, 1, '2025-07-30 08:21:46', '2025-07-30 08:23:15', 'approved', NULL, 29),
(49, 'usertoday', 'usertoday@ke.airtel.com', '$2y$10$Et26vtwtAi5S1Jmr/ITEVe4sepgEHHb2uA2QVYRMg0xaPVUIkoExS', 'User Today', 'risk_owner', 'Customer Service', NULL, 1, '2025-07-30 10:49:26', '2025-07-30 10:49:59', 'approved', 'Network', NULL),
(50, 'ysterday', 'ysterday@ke.airtel.com', '$2y$10$ESsIaISjYfB2FLte6Qxxi.rnrAfhKJbxgDI4ApnDkV9DHeMGpQx/C', 'UserYesterday', 'risk_owner', 'Human Resources', NULL, 1, '2025-07-30 10:52:58', '2025-07-30 10:57:39', 'approved', 'Partnerships', NULL);

DROP TABLE IF EXISTS `user_sessions`;
CREATE TABLE `user_sessions` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `ip_address` varchar(45) NOT NULL,
  `device` text DEFAULT NULL,
  `last_activity` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


ALTER TABLE `account_lockouts`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_user_id` (`user_id`),
  ADD KEY `idx_user_email` (`user_email`),
  ADD KEY `idx_locked_at` (`locked_at`);

ALTER TABLE `active_sessions`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `session_id` (`session_id`),
  ADD KEY `idx_user_id` (`user_id`),
  ADD KEY `idx_session_id` (`session_id`),
  ADD KEY `idx_last_activity` (`last_activity`);

ALTER TABLE `activity_logs`
  ADD PRIMARY KEY (`id`),
  ADD KEY `user_id` (`user_id`);

ALTER TABLE `audit_logs`
  ADD PRIMARY KEY (`id`),
  ADD KEY `user_id` (`user_id`);

ALTER TABLE `chat_files`
  ADD PRIMARY KEY (`id`),
  ADD KEY `message_id` (`message_id`),
  ADD KEY `uploaded_by` (`uploaded_by`);

ALTER TABLE `chat_messages`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_chat_messages_room_id` (`room_id`),
  ADD KEY `idx_chat_messages_sender_id` (`sender_id`),
  ADD KEY `idx_chat_messages_created_at` (`created_at`);

ALTER TABLE `chat_participants`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `unique_participant` (`room_id`,`user_id`),
  ADD KEY `idx_chat_participants_room_user` (`room_id`,`user_id`),
  ADD KEY `idx_chat_participants_user_id` (`user_id`);

ALTER TABLE `chat_rooms`
  ADD PRIMARY KEY (`id`),
  ADD KEY `created_by` (`created_by`);

ALTER TABLE `deleted_users`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_original_user_id` (`original_user_id`),
  ADD KEY `idx_deleted_at` (`deleted_at`);

ALTER TABLE `department_assignment_queue`
  ADD PRIMARY KEY (`id`);

ALTER TABLE `department_assignment_tracker`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `department` (`department`),
  ADD KEY `idx_department` (`department`),
  ADD KEY `idx_last_assigned` (`last_assigned_owner_id`);

ALTER TABLE `invite_tokens`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `email` (`email`);

ALTER TABLE `notifications`
  ADD PRIMARY KEY (`id`),
  ADD KEY `risk_id` (`risk_id`),
  ADD KEY `owner_id` (`owner_id`);

ALTER TABLE `password_resets`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `token` (`token`),
  ADD UNIQUE KEY `unique_user_active` (`user_id`,`used`),
  ADD KEY `idx_token` (`token`),
  ADD KEY `idx_expires` (`expires_at`),
  ADD KEY `idx_user_id` (`user_id`);

ALTER TABLE `password_reset_tokens`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `token` (`token`),
  ADD KEY `user_id` (`user_id`),
  ADD KEY `idx_token` (`token`),
  ADD KEY `idx_expires` (`expires_at`);

ALTER TABLE `risk_assignments`
  ADD PRIMARY KEY (`id`),
  ADD KEY `risk_id` (`risk_id`),
  ADD KEY `assigned_to` (`assigned_to`),
  ADD KEY `assigned_by` (`assigned_by`);

ALTER TABLE `risk_attachments`
  ADD PRIMARY KEY (`id`),
  ADD KEY `risk_id` (`risk_id`),
  ADD KEY `uploaded_by` (`uploaded_by`);

ALTER TABLE `risk_categories_reference`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `category_name` (`category_name`);

ALTER TABLE `risk_category_details`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_risk_category_details` (`risk_id`,`risk_category`),
  ADD KEY `idx_risk_category` (`risk_id`,`risk_category`),
  ADD KEY `idx_risk_category_details_risk_id` (`risk_id`),
  ADD KEY `idx_risk_category_details_category` (`risk_category`);

ALTER TABLE `risk_category_options`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_category_name` (`category_name`),
  ADD KEY `idx_active` (`is_active`),
  ADD KEY `idx_risk_category_options_category` (`category_name`),
  ADD KEY `idx_risk_category_options_active` (`is_active`),
  ADD KEY `idx_risk_category_options_sort` (`category_name`,`sort_order`);

ALTER TABLE `risk_comments`
  ADD PRIMARY KEY (`id`),
  ADD KEY `risk_id` (`risk_id`),
  ADD KEY `user_id` (`user_id`);

ALTER TABLE `risk_documents`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_risk_id` (`risk_id`),
  ADD KEY `idx_section_type` (`section_type`),
  ADD KEY `uploaded_by` (`uploaded_by`);

ALTER TABLE `risk_history`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_risk_id` (`risk_id`),
  ADD KEY `idx_updated_by` (`updated_by`);

ALTER TABLE `risk_incidents`
  ADD PRIMARY KEY (`id`),
  ADD KEY `reported_by` (`reported_by`),
  ADD KEY `idx_risk_owner` (`risk_owner_id`),
  ADD KEY `idx_status` (`status`),
  ADD KEY `idx_inherent_rating` (`inherent_rating`),
  ADD KEY `idx_residual_rating` (`residual_rating`),
  ADD KEY `idx_updated_by` (`updated_by`),
  ADD KEY `idx_created_at` (`created_at`),
  ADD KEY `idx_treatment_status` (`treatment_status`),
  ADD KEY `idx_target_completion` (`target_completion_date`),
  ADD KEY `idx_risk_incidents_risk_owner_id` (`risk_owner_id`),
  ADD KEY `idx_risk_incidents_department` (`department`),
  ADD KEY `idx_risk_incidents_risk_status` (`risk_status`),
  ADD KEY `idx_risk_categories` (`risk_categories`(255));

ALTER TABLE `risk_owners`
  ADD PRIMARY KEY (`id`);

ALTER TABLE `risk_owner_assignments`
  ADD PRIMARY KEY (`id`),
  ADD KEY `risk_owner_id` (`risk_owner_id`);

ALTER TABLE `risk_treatments`
  ADD PRIMARY KEY (`id`),
  ADD KEY `risk_id` (`risk_id`),
  ADD KEY `assigned_to` (`assigned_to`),
  ADD KEY `created_by` (`created_by`);

ALTER TABLE `security_settings`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `setting_name` (`setting_name`),
  ADD KEY `updated_by` (`updated_by`);

ALTER TABLE `system_audit_logs`
  ADD PRIMARY KEY (`id`),
  ADD KEY `timestamp` (`timestamp`),
  ADD KEY `user` (`user`),
  ADD KEY `action` (`action`);

ALTER TABLE `treatment_documents`
  ADD PRIMARY KEY (`id`),
  ADD KEY `treatment_id` (`treatment_id`);

ALTER TABLE `users`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `username` (`username`),
  ADD UNIQUE KEY `email` (`email`),
  ADD KEY `idx_users_role` (`role`),
  ADD KEY `idx_users_department` (`department`),
  ADD KEY `idx_assigned_risk_owner_id` (`assigned_risk_owner_id`);

ALTER TABLE `user_sessions`
  ADD PRIMARY KEY (`id`),
  ADD KEY `user_id` (`user_id`);


ALTER TABLE `account_lockouts`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `active_sessions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `activity_logs`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `audit_logs`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `chat_files`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `chat_messages`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `chat_participants`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `chat_rooms`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `deleted_users`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `department_assignment_queue`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `department_assignment_tracker`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `invite_tokens`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `login_history`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `notifications`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `password_resets`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `password_reset_tokens`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `risk_assignments`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `risk_attachments`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `risk_categories_reference`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `risk_category_details`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `risk_category_options`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `risk_comments`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `risk_documents`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `risk_history`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `risk_incidents`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `risk_monitoring`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `risk_owners`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `risk_owner_assignments`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `risk_treatments`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `security_settings`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `suspicious_activities`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `system_audit_logs`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `treatment_documents`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `users`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `user_sessions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;


ALTER TABLE `account_lockouts`
  ADD CONSTRAINT `account_lockouts_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

ALTER TABLE `active_sessions`
  ADD CONSTRAINT `active_sessions_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

ALTER TABLE `activity_logs`
  ADD CONSTRAINT `activity_logs_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`);

ALTER TABLE `audit_logs`
  ADD CONSTRAINT `audit_logs_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL;

ALTER TABLE `chat_files`
  ADD CONSTRAINT `chat_files_ibfk_1` FOREIGN KEY (`message_id`) REFERENCES `chat_messages` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `chat_files_ibfk_2` FOREIGN KEY (`uploaded_by`) REFERENCES `users` (`id`);

ALTER TABLE `chat_messages`
  ADD CONSTRAINT `chat_messages_ibfk_1` FOREIGN KEY (`room_id`) REFERENCES `chat_rooms` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `chat_messages_ibfk_2` FOREIGN KEY (`sender_id`) REFERENCES `users` (`id`);

ALTER TABLE `chat_participants`
  ADD CONSTRAINT `chat_participants_ibfk_1` FOREIGN KEY (`room_id`) REFERENCES `chat_rooms` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `chat_participants_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`);

ALTER TABLE `chat_rooms`
  ADD CONSTRAINT `chat_rooms_ibfk_1` FOREIGN KEY (`created_by`) REFERENCES `users` (`id`);

ALTER TABLE `department_assignment_tracker`
  ADD CONSTRAINT `department_assignment_tracker_ibfk_1` FOREIGN KEY (`last_assigned_owner_id`) REFERENCES `users` (`id`) ON DELETE SET NULL;

ALTER TABLE `notifications`
  ADD CONSTRAINT `notifications_ibfk_1` FOREIGN KEY (`risk_id`) REFERENCES `risks` (`id`),
  ADD CONSTRAINT `notifications_ibfk_2` FOREIGN KEY (`owner_id`) REFERENCES `risk_owners` (`id`);

ALTER TABLE `password_resets`
  ADD CONSTRAINT `password_resets_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

ALTER TABLE `password_reset_tokens`
  ADD CONSTRAINT `password_reset_tokens_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

ALTER TABLE `risk_assignments`
  ADD CONSTRAINT `risk_assignments_ibfk_1` FOREIGN KEY (`risk_id`) REFERENCES `risk_incidents` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `risk_assignments_ibfk_2` FOREIGN KEY (`assigned_to`) REFERENCES `users` (`id`),
  ADD CONSTRAINT `risk_assignments_ibfk_3` FOREIGN KEY (`assigned_by`) REFERENCES `users` (`id`);

ALTER TABLE `risk_attachments`
  ADD CONSTRAINT `risk_attachments_ibfk_1` FOREIGN KEY (`risk_id`) REFERENCES `risk_incidents` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `risk_attachments_ibfk_2` FOREIGN KEY (`uploaded_by`) REFERENCES `users` (`id`);

ALTER TABLE `risk_category_details`
  ADD CONSTRAINT `risk_category_details_ibfk_1` FOREIGN KEY (`risk_id`) REFERENCES `risk_incidents` (`id`) ON DELETE CASCADE;

ALTER TABLE `risk_comments`
  ADD CONSTRAINT `risk_comments_ibfk_1` FOREIGN KEY (`risk_id`) REFERENCES `risk_incidents` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `risk_comments_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`);

ALTER TABLE `risk_documents`
  ADD CONSTRAINT `risk_documents_ibfk_1` FOREIGN KEY (`risk_id`) REFERENCES `risk_incidents` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `risk_documents_ibfk_2` FOREIGN KEY (`uploaded_by`) REFERENCES `users` (`id`);

ALTER TABLE `risk_history`
  ADD CONSTRAINT `risk_history_ibfk_1` FOREIGN KEY (`risk_id`) REFERENCES `risk_incidents` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `risk_history_ibfk_2` FOREIGN KEY (`updated_by`) REFERENCES `users` (`id`) ON DELETE CASCADE;

ALTER TABLE `risk_incidents`
  ADD CONSTRAINT `risk_incidents_ibfk_3` FOREIGN KEY (`risk_owner_id`) REFERENCES `users` (`id`),
  ADD CONSTRAINT `risk_incidents_ibfk_4` FOREIGN KEY (`updated_by`) REFERENCES `users` (`id`) ON DELETE SET NULL;

ALTER TABLE `risk_owner_assignments`
  ADD CONSTRAINT `risk_owner_assignments_ibfk_1` FOREIGN KEY (`risk_owner_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

ALTER TABLE `security_settings`
  ADD CONSTRAINT `security_settings_ibfk_1` FOREIGN KEY (`updated_by`) REFERENCES `users` (`id`) ON DELETE SET NULL;

ALTER TABLE `treatment_documents`
  ADD CONSTRAINT `fk_treatment_documents_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `risk_treatments` (`id`) ON DELETE CASCADE;

ALTER TABLE `users`
  ADD CONSTRAINT `fk_assigned_risk_owner` FOREIGN KEY (`assigned_risk_owner_id`) REFERENCES `users` (`id`) ON DELETE SET NULL;

ALTER TABLE `user_sessions`
  ADD CONSTRAINT `user_sessions_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
